<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE Chapter PUBLIC "-//Springer-Verlag//DTD A++ V2.4//EN" "http://devel.springer.de/A++/V2.4/DTD/A++V2.4.dtd"> <Chapter  Language="En" OutputMedium="All" ID="Chap3"><ChapterInfo Language="En" ChapterType="OriginalPaper" NumberingStyle="ChapterOnly" TocLevels="0" ContainsESM="No" OutputMedium="All"><ChapterID>3</ChapterID><ChapterNumber>Chapter 3</ChapterNumber><ChapterDOI>10.1007/9781430247227_3</ChapterDOI><ChapterSequenceNumber>0</ChapterSequenceNumber><ChapterTitle Language="En">CSS3 Transitions<IndexTerm><Primary><Emphasis Type="Bold">CSS3 transitions</Emphasis></Primary></IndexTerm> for Images</ChapterTitle><ChapterFirstPage>31</ChapterFirstPage><ChapterLastPage>56</ChapterLastPage><ChapterCopyright><CopyrightHolderName>Springer-Verlag</CopyrightHolderName><CopyrightYear>2012</CopyrightYear></ChapterCopyright><ChapterHistory><OnlineDate><Year><?InsertOnReleaseOF OFYear?></Year><Month><?InsertOnReleaseOF OFMonth?></Month><Day><?InsertOnReleaseOF OFDay?></Day></OnlineDate></ChapterHistory></ChapterInfo><ChapterHeader><Abstract ID="Abs1" Language="En" OutputMedium="Online"><Heading>Abstract</Heading><Para>The most common uses for CSS3 transitions on web pages are, first, generating visual effects for user interface (UI)  elements (discussed in the next chapter) and, second, creating brief animated effects for images. In this chapter, you&#x2019;ll use the syntax of the Transitions module to enhance images and their captions by animating them. These techniques demonstrate easy methods for visually enhancing your web pages, making image content and associated information more interactive while minimizing screen &#x201C;real estate&#x201D;: an important consideration in the age of mobile web development.</Para></Abstract></ChapterHeader><Body><Para>The most common uses for CSS3 transitions on web pages are, first, generating visual effects for user interface (UI)  elements (discussed in the next chapter) and, second, creating brief animated effects for images. In this chapter, you&#x2019;ll use the syntax of the Transitions module to enhance images and their captions by animating them. These techniques demonstrate easy methods for visually enhancing your web pages, making image content and associated information more interactive while minimizing screen &#x201C;real estate&#x201D;: an important consideration in the age of mobile web development.</Para><Section1 ID="Sec1"><Heading>Simple Image CrossFade Effect<IndexTerm><Primary><Emphasis Type="Bold">CSS3 transitions</Emphasis></Primary><Secondary><Emphasis Type="Bold">image crossfade effect</Emphasis></Secondary></IndexTerm></Heading><Para>The first transition you will work on will demonstrate many of the fundamental concepts used in subsequent exercises: positioning images that are exactly the same size on top of each other and initiating events on <Emphasis FontCategory="NonProportional">:hover</Emphasis> (see Figure <InternalRef RefID="Fig1">3-1</InternalRef>).<Figure ID="Fig1" Float="Yes" Category="Standard"><Caption Language="En"><CaptionNumber>Figure 3-1</CaptionNumber>.&#x2002;<CaptionContent><SimplePara>A cross-fade effect using a transitioned opacity<IndexTerm><Primary><Emphasis Type="Italic">CSS3 transitions</Emphasis></Primary><Secondary><Emphasis Type="Italic">transitioned opacityt</Emphasis></Secondary></IndexTerm></SimplePara></CaptionContent></Caption><MediaObject ID="MO1"><ImageObject FileRef="9781430247227_Fig03-01.gif" Format="GIF" Color="BlackWhite" Type="Linedraw" Rendition="HTML"/></MediaObject></Figure></Para><Para>There are a few possible ways to achieve the effect shown in Figure <InternalRef RefID="Fig1">3-1</InternalRef>:<UnorderedList Mark="Bullet"><ItemContent><Para><Emphasis Type="Italic">Option 1</Emphasis>: Specify the first image as the CSS <Emphasis FontCategory="NonProportional">background</Emphasis> of a container element, with the second image inside the element itself.</Para></ItemContent><ItemContent><Para><Emphasis Type="Italic">Option 2</Emphasis>: Create a container element with <Emphasis FontCategory="NonProportional">position: relative</Emphasis> that holds both images, with the second image having <Emphasis FontCategory="NonProportional">position: absolute</Emphasis>.</Para></ItemContent><ItemContent><Para><Emphasis Type="Italic">Option 3</Emphasis>: Specify both images as backgrounds and transition between them.</Para></ItemContent></UnorderedList></Para><Para>All three approaches have their advantages and disadvantages. The first and third methods are potentially quicker to create and more responsive, but are less accessible. Using the first method also means that any changes to the images will have to be made in different places, as one image will exist solely in CSS and the other as an HTML element. The second option may involve a little more code, but has the benefit of keeping both pictures as &#x2009;<Emphasis FontCategory="NonProportional">&#x003C;img</Emphasis>&#x003E; &#x2009;elements and thus remains more accessible. The third option is technically outside the spec as of this writing, but has perhaps the greatest ease of use.</Para><Para>I will demonstrate all three methods using photographs supplied by Ton Rulkens (<ExternalRef><RefSource>www.flickr.com/photos/47108884@N07/4595559479/</RefSource><RefTarget TargetType="URL" Address="http://www.flickr.com/photos/47108884@N07/4595559479/"/></ExternalRef>) and Peter Shanks (<ExternalRef><RefSource>www.flickr.com/photos/botheredbybees/1954163161/</RefSource><RefTarget TargetType="URL" Address="http://www.flickr.com/photos/botheredbybees/1954163161/"/></ExternalRef>), used with permission.</Para><Para>Both of the images must be exactly the same size. There are several ways of achieving this:<UnorderedList Mark="Bullet"><ItemContent><Para>Crop the images to the same dimension in an application such as Adobe PhotoShop (this is the most obvious solution).</Para></ItemContent><ItemContent><Para>You can modify the <Emphasis FontCategory="NonProportional">width</Emphasis> and <Emphasis FontCategory="NonProportional">height</Emphasis> of the images through CSS or HTML attributes, although this often leads to visual distortion.</Para></ItemContent><ItemContent><Para>You can set a <Emphasis FontCategory="NonProportional">width</Emphasis> and <Emphasis FontCategory="NonProportional">height</Emphasis> on the <Emphasis FontCategory="NonProportional">div</Emphasis> and use <Emphasis FontCategory="NonProportional">overflow:hidden</Emphasis> to trim off portions of the images that fall outside this area.</Para></ItemContent><ItemContent><Para>If both images are represented as elements in the code, you can use the same CSS <Emphasis FontCategory="NonProportional">clip</Emphasis> values for each.</Para></ItemContent></UnorderedList></Para><Section2 ID="Sec2"><Heading>Option 1: First Image As a CSS Background<IndexTerm><Primary><Emphasis Type="Bold">CSS3 transitions</Emphasis></Primary><Secondary><Emphasis Type="Bold">image crossfade effect</Emphasis></Secondary><Tertiary><Emphasis Type="Bold">CSS background</Emphasis></Tertiary></IndexTerm></Heading><Para>The HTML for this option is very simple, as shown in Listing 3-1.</Para><Para><Emphasis Type="BoldItalic">Listing 3</Emphasis><Emphasis Type="Italic">-</Emphasis><Emphasis Type="BoldItalic">1.</Emphasis>&#x2002;<Emphasis Type="Italic">HTML Option 1 to Create Two Layered Images</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;div class=</Emphasis><Emphasis FontCategory="NonProportional">crossfade&#x003E;</Emphasis></Para><Para Type="Programcode">        <Emphasis FontCategory="NonProportional">&#x003C;img src=</Emphasis><Emphasis FontCategory="NonProportional">jatropha-hybrid.jpg alt=</Emphasis><Emphasis FontCategory="NonProportional">&quot;Jatropha hybrid leaf&quot;&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;/div&#x003E;</Emphasis></Para><FormalPara Type="Important" RenderingStyle="Style1"><Heading>Note</Heading><Para>HTML5 code samples shown in this book are in &#x201C;minified&#x201D; syntax to save space. Elements are closed only when needed and attribute values are only quoted if they contain spaces.</Para></FormalPara><Para>The CSS shown in Listing 3-2 is also very simple.</Para><Para><Emphasis Type="BoldItalic">Listing 3</Emphasis><Emphasis Type="Italic">-</Emphasis><Emphasis Type="BoldItalic">2.</Emphasis>&#x2002;<Emphasis Type="Italic">CSS to Create a Cross-fade Effect for HTML Option 1</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div.crossfade { background: url(leaf-veins.jpg); background-size: cover; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div.crossfade, div.crossfade img  { width: 418px; height: 500px;  }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div.crossfade img { transition: 3s opacity ease-out; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div.crossfade img:hover { opacity: 0; }</Emphasis></Para></Section2><Section2 ID="Sec3"><Heading>Option 2: Both Images As HTML Elements<IndexTerm><Primary><Emphasis Type="Bold">CSS3 transitions</Emphasis></Primary><Secondary><Emphasis Type="Bold">image crossfade effect</Emphasis></Secondary><Tertiary><Emphasis Type="Bold">HTML elements</Emphasis> </Tertiary></IndexTerm></Heading><Para>Alternatively, you can stack both images inside a single container as individual pictures; the HTML is shown in Listing 3-3.</Para><Para><Emphasis Type="BoldItalic">Listing 3</Emphasis><Emphasis Type="Italic">-</Emphasis><Emphasis Type="BoldItalic">3.</Emphasis>&#x2002;<Emphasis Type="Italic">HTML Option 2 to Create Layered Images</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;div class=</Emphasis><Emphasis FontCategory="NonProportional">crossfade&#x003E;</Emphasis></Para><Para Type="Programcode">        <Emphasis FontCategory="NonProportional">&#x003C;img src=</Emphasis><Emphasis FontCategory="NonProportional">leaf-veins.jpg alt=</Emphasis><Emphasis FontCategory="NonProportional">&quot;Red-veined leaf&quot;&#x003E;</Emphasis></Para><Para Type="Programcode">        <Emphasis FontCategory="NonProportional">&#x003C;img src=</Emphasis><Emphasis FontCategory="NonProportional">jatropha.jpg alt=</Emphasis><Emphasis FontCategory="NonProportional">&quot;Jatropha hybrid leaf&quot;&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;/div&#x003E;</Emphasis></Para><Para>Rather than potentially complicating your HTML by attaching a class to the second image, you will use an nth-child pseudo-selector to alter it, as shown in Listing 3-4.</Para><Para><Emphasis Type="BoldItalic">Listing 3</Emphasis><Emphasis Type="Italic">-</Emphasis><Emphasis Type="BoldItalic">4.</Emphasis>&#x2002;<Emphasis Type="Italic">CSS to Create a Cross-fade Effect for HTML Option 2</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div.crossfade { position: relative; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div.crossfade, div.crossfade img { width: 418px; height: 500px; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div.crossfade img:nth-child(2) { position:absolute; left:0; top:0; transition: 3s opacity ease-out; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div.crossfade img:nth-child(2):hover { opacity: 0; }</Emphasis></Para></Section2><Section2 ID="Sec4"><Heading>Option 3: Both Images As Backgrounds<IndexTerm><Primary><Emphasis Type="Bold">CSS3 transitions</Emphasis></Primary><Secondary><Emphasis Type="Bold">image crossfade effect</Emphasis></Secondary><Tertiary><Emphasis Type="Bold">image as backgrounds</Emphasis> </Tertiary></IndexTerm></Heading><Para>While the easiest to code, this option is also the most daring: it is outside the current specification (and, as of this writing, only supported in Chrome). In this case, the containing <Emphasis>div</Emphasis> is utterly devoid of content, and everything is achieved via CSS, as shown in Listing 3-5.</Para><Para><Emphasis Type="BoldItalic">Listing 3</Emphasis><Emphasis Type="Italic">-</Emphasis><Emphasis Type="BoldItalic">5.</Emphasis>&#x2002;<Emphasis Type="Italic">CSS to Create an Image Cross-fade Effect (Option 3)</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div.crossfade { width: 418px; height: 500px; transition: 3s background-image ease-out;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">background-image: url(leaf-veins.jpg); }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div.crossfade:hover { background-image: url(jatropha.jpg);  }</Emphasis></Para><Para>If you were willing to push your code even further, an alternative approach would be to use the same empty <Emphasis FontCategory="NonProportional">div</Emphasis> with the CSS4 <Emphasis FontCategory="NonProportional">cross-fade</Emphasis> property, shown in Listing 3-6.</Para><Para><Emphasis Type="BoldItalic">Listing 3</Emphasis><Emphasis Type="Italic">-</Emphasis><Emphasis Type="BoldItalic">6.</Emphasis>&#x2002;<Emphasis Type="Italic">CSS4 Cross-fade Used to Create an Image Transition</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div.crossfade { width: 418px; height: 500px;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">background-image: -webkit-cross-fade(url(jatropha.jpg), url(leaf-veins.jpg),0);</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">transition: 2s background-image linear; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div.crossfade:hover { background-image: -webkit-cross-fade(url(jatropha.jpg), url(leaf-veins.jpg),100); }</Emphasis></Para><Para>As its name implies, <Emphasis FontCategory="NonProportional">cross-fade</Emphasis> is a more efficient approach, but with limited practical application at this time; rather than faking a dissolve effect by transitioning <Emphasis FontCategory="NonProportional">opacity</Emphasis>, <Emphasis FontCategory="NonProportional">cross-fade</Emphasis> processes the images with the appropriate algorithm.</Para><FormalPara Type="Overview" RenderingStyle="Style1"><Heading></Heading><Para>As CSS3 is becoming mainstream in browsers, the W3C&#x2019;s attention has moved to the next phase of CSS development, which includes new selectors and appearance rules for images and gradients. Browser support (as of this writing) is limited and experimental, but growing.</Para><Para>Most relevant to this section is the CSS4 Image Values and Replaced Content Module, of which you can read an overview at <ExternalRef><RefSource>http://dev.w3.org/csswg/css4-images/</RefSource><RefTarget TargetType="URL" Address="http://dev.w3.org/csswg/css4-images/"/></ExternalRef>. There&#x2019;s also a module for backgrounds and borders (<ExternalRef><RefSource>http://dev.w3.org/csswg/css4-background/</RefSource><RefTarget TargetType="URL" Address="http://dev.w3.org/csswg/css4-background/"/></ExternalRef>) as well as text (<ExternalRef><RefSource>http://dev.w3.org/csswg/css4-text/</RefSource><RefTarget TargetType="URL" Address="http://dev.w3.org/csswg/css4-text/"/></ExternalRef>).</Para><Para>It is almost inevitable that in the near future the term &#x201C;CSS4&#x201D; will become as broadly misunderstood and misused as &#x201C;CSS3&#x201D; is today, as I discussed in Chapter 1.</Para></FormalPara></Section2></Section1><Section1 ID="Sec5"><Heading>A Simple Image Gallery<IndexTerm><Primary><Emphasis Type="Bold">Image gallery</Emphasis></Primary></IndexTerm> Enhanced with CSS3</Heading><Para>For your second example, you&#x2019;ll create an image thumbnail gallery with HTML and enhance the display of large images in the gallery with CSS3 transitions (see Figure <InternalRef RefID="Fig2">3-2</InternalRef>).<Figure ID="Fig2" Float="Yes" Category="Standard"><Caption Language="En"><CaptionNumber>Figure 3-2</CaptionNumber>.&#x2002;<CaptionContent><SimplePara>A simple image gallery</SimplePara></CaptionContent></Caption><MediaObject ID="MO2"><ImageObject FileRef="9781430247227_Fig03-02.gif" Format="GIF" Color="BlackWhite" Type="Linedraw" Rendition="HTML"/></MediaObject></Figure></Para><Para>You&#x2019;ll need at least three pairs of images. Each pair will consist of a thumbnail image and a full-size version of the same image. The large version can be whatever size you wish, so long as it is reasonable; I&#x2019;d suggest making the thumbnails roughly 150 x 150 pixels in size. To keep your file organization clear, follow a naming convention. For example, if the full-size image is <Emphasis FontCategory="NonProportional">x,jpg</Emphasis>, name the paired thumbnail <Emphasis FontCategory="NonProportional">x_thumb.jpg</Emphasis>, both stored in an images folder.</Para><Section2 ID="Sec6"><Heading>The HTML Markup<IndexTerm><Primary><Emphasis Type="Bold">Image gallery</Emphasis></Primary><Secondary><Emphasis Type="Bold">HTML markup</Emphasis></Secondary></IndexTerm></Heading><Para>Your goal is to keep the HTML used in the gallery as clean and simple as possible. To that end, you&#x2019;ll use a definition list as the basis for your markup. The definition list is made to contain pairs of elements: one (the definition term) for your thumbnail, the other (the definition declaration) for the large image that it matches.</Para><Para>Assembling your content in the markup relative to your folders, the HTML for the page would look something like Listing 3-7 (using images featured in the previous exercise, with an additional photograph by Paul Bica (<ExternalRef><RefSource>www.flickr.com/photos/dexxus/4137841698/</RefSource><RefTarget TargetType="URL" Address="http://www.flickr.com/photos/dexxus/4137841698/"/></ExternalRef>).</Para><Para><Emphasis Type="BoldItalic">Listing 3</Emphasis><Emphasis Type="Italic">-</Emphasis><Emphasis Type="BoldItalic">7.</Emphasis>&#x2002;<Emphasis Type="Italic">HTML5 for a Simple Image Gallery</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;!DOCTYPE html&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;html lang=</Emphasis><Emphasis FontCategory="NonProportional">en&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;head&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;meta charset=</Emphasis><Emphasis FontCategory="NonProportional">utf-8&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;title&#x003E;</Emphasis> &#x2009;<Emphasis FontCategory="NonProportional">CSS3 Gallery&#x003C;/title&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;style&#x003E;</Emphasis></Para><Para Type="Programcode">        <Emphasis FontCategory="NonProportional">body { background: #234; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;/style&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;/head&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;body&#x003E;</Emphasis> &#x2009;</Para><Para Type="Programcode"> &#x2009;<Emphasis FontCategory="NonProportional">&#x003C;dl id</Emphasis>=<Emphasis FontCategory="NonProportional">gallery&#x003E;</Emphasis></Para><Para Type="Programcode">        <Emphasis FontCategory="NonProportional">&#x003C;dt&#x003E;</Emphasis><Emphasis FontCategory="NonProportional">&#x003C;img src=</Emphasis><Emphasis FontCategory="NonProportional">jatropha_thumb.jpg alt=</Emphasis><Emphasis FontCategory="NonProportional">&quot;Jatropha Leaf Thumbnail&quot;&#x003E;</Emphasis></Para><Para Type="Programcode">        <Emphasis FontCategory="NonProportional">&#x003C;dd&#x003E;</Emphasis><Emphasis FontCategory="NonProportional">&#x003C;img src=</Emphasis><Emphasis FontCategory="NonProportional">jatropha.jpg alt=</Emphasis><Emphasis FontCategory="NonProportional">&quot;Jatropha Leaf Large&quot;&#x003E;</Emphasis></Para><Para Type="Programcode">        <Emphasis FontCategory="NonProportional">&#x003C;dt&#x003E;</Emphasis><Emphasis FontCategory="NonProportional">&#x003C;img src=</Emphasis><Emphasis FontCategory="NonProportional">leaf-veins_thumb.jpg alt=</Emphasis><Emphasis FontCategory="NonProportional">&quot;Leaf Veins Thumbnail&quot;&#x003E;</Emphasis></Para><Para Type="Programcode">        <Emphasis FontCategory="NonProportional">&#x003C;dd&#x003E;</Emphasis><Emphasis FontCategory="NonProportional">&#x003C;img src=</Emphasis><Emphasis FontCategory="NonProportional">leaf-veins.jpg alt=</Emphasis><Emphasis FontCategory="NonProportional">&quot;Leaf Veins&quot;&#x003E;</Emphasis></Para><Para Type="Programcode">        <Emphasis FontCategory="NonProportional">&#x003C;dt&#x003E;</Emphasis><Emphasis FontCategory="NonProportional">&#x003C;img src=</Emphasis><Emphasis FontCategory="NonProportional">cascada_thumb.jpg alt=</Emphasis><Emphasis FontCategory="NonProportional">&quot;Cascada Thumbnail&quot;&#x003E;</Emphasis></Para><Para Type="Programcode">        <Emphasis FontCategory="NonProportional">&#x003C;dd&#x003E;</Emphasis><Emphasis FontCategory="NonProportional">&#x003C;img src=</Emphasis><Emphasis FontCategory="NonProportional">cascada.jpg alt=</Emphasis><Emphasis FontCategory="NonProportional">&quot;Cascada Large&quot;&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;/dl&#x003E;</Emphasis> &#x2009;</Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;/body&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;/html&#x003E;</Emphasis></Para></Section2><Section2 ID="Sec7"><Heading>The Initial CSS<IndexTerm><Primary><Emphasis Type="Bold">Image gallery</Emphasis></Primary><Secondary><Emphasis Type="Bold">initial CSS</Emphasis></Secondary></IndexTerm></Heading><Para>The CSS used here should be fairly self-explanatory: you&#x2019;re positioning the definition list <Emphasis FontCategory="NonProportional">relative</Emphasis> so that the large, absolutely-positioned images are organized in relation to the list, not the body of the document. Positioning the large images absolutely also means that you can stack them in the exact same point, and that the rest of the document&#x2014;including the thumbnails&#x2014;will act as though the full-size images are not there at all. Finally, you hide the large images with <Emphasis FontCategory="NonProportional">visibility: hidden</Emphasis>., and reveal them again by using a <Emphasis FontCategory="NonProportional">:hover</Emphasis> selector on the <Emphasis FontCategory="NonProportional">dt</Emphasis> elements with an adjacent combinator, as shown in Listing 3-8.</Para><Para><Emphasis Type="BoldItalic">Listing 3</Emphasis><Emphasis Type="Italic">-</Emphasis><Emphasis Type="BoldItalic">8.</Emphasis>&#x2002;<Emphasis Type="Italic">CSS for a Simple Image Gallery</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">dl#gallery { position: relative; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">dl#gallery dt img { width: 150px; height: 150px; margin: 2.2em; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">dl#gallery dd { position: absolute; left: 200px; top: 2.2em; visibility: hidden; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">dl#gallery dt:hover</Emphasis> + <Emphasis FontCategory="NonProportional">dd { visibility: visible; }</Emphasis></Para><Para>Moving your mouse over the thumbnail image causes the large image it is paired with in the definition list to appear immediately. However, there is a UI issue that you need to address before you can bring animation to the gallery.</Para></Section2><Section2 ID="Sec8"><Heading>Improving the Gallery<IndexTerm><Primary><Emphasis Type="Bold">Image gallery</Emphasis></Primary><Secondary><Emphasis Type="Bold">improving gallery</Emphasis></Secondary></IndexTerm></Heading><Para>What you&#x2019;ve made so far works, but it&#x2019;s a little clunky: you&#x2019;ll notice that placing your mouse to the right of the thumbnail image makes the associated large image appear immediately. You&#x2019;ll fix both of these issues with a few more lines of CSS, changing from hiding the large images with <Emphasis FontCategory="NonProportional">visibility</Emphasis> (which can&#x2019;t be animated) to <Emphasis FontCategory="NonProportional">opacity</Emphasis> (which can) while sharing the size of the definition terms with the thumbnail images, as shown in Listing 3-9.</Para><Para><Emphasis Type="BoldItalic">Listing 3</Emphasis><Emphasis Type="Italic">-</Emphasis><Emphasis Type="BoldItalic">9.</Emphasis>&#x2002;<Emphasis Type="Italic">CSS for an Image Gallery Enhanced with Transitions</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">dl#gallery dd { position: absolute; left: 200px; top: 2.2em; opacity: 0;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">transition: .85s opacity linear; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">dl#gallery dt:hover</Emphasis> + <Emphasis FontCategory="NonProportional">dd { opacity: 1; }</Emphasis></Para><Para>Now the large images will fade in smoothly as you move the mouse over the thumbnail images.</Para></Section2><Section2 ID="Sec9"><Heading>Adding Captions<IndexTerm><Primary><Emphasis Type="Bold">Image gallery</Emphasis></Primary><Secondary><Emphasis Type="Bold">adding captions</Emphasis></Secondary></IndexTerm></Heading><Para>It&#x2019;s very helpful to users if they can read image captions. That doesn&#x2019;t require adding any extra tags in this case, just the caption content and CSS. I&#x2019;ll modify one of the &#x2009;<Emphasis FontCategory="NonProportional">&#x003C;dt</Emphasis> &#x2009;<Emphasis FontCategory="NonProportional">&#x003E;&#x003C;dd</Emphasis>&#x003E; &#x2009;pairs as an example, shown in Listing 3-10.</Para><Para><Emphasis Type="BoldItalic">Listing 3</Emphasis><Emphasis Type="Italic">-</Emphasis><Emphasis Type="BoldItalic">10.</Emphasis>&#x2002;<Emphasis Type="Italic">HTML Example for a Simple Captioned Image</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;dt&#x003E;&#x003C;</Emphasis><Emphasis FontCategory="NonProportional">img src=</Emphasis><Emphasis FontCategory="NonProportional">jatropha_thumb.jpg alt=</Emphasis><Emphasis FontCategory="NonProportional">&quot;Jatropha Leaf Thumbnail&quot;&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;dd&#x003E;&#x003C;</Emphasis><Emphasis FontCategory="NonProportional">img src=</Emphasis><Emphasis FontCategory="NonProportional">jatropha.jpg alt=</Emphasis><Emphasis FontCategory="NonProportional">&quot;Jatropha Leaf Large&quot;</Emphasis>&#x003E; &#x2009;<Emphasis FontCategory="NonProportional">A closeup photograph of a Jatropha Hybrid</Emphasis></Para><Para>Your CSS must also change in response (see Listing 3-11).</Para><Para><Emphasis Type="BoldItalic">Listing 3</Emphasis><Emphasis Type="Italic">-</Emphasis><Emphasis Type="BoldItalic">11.</Emphasis>&#x2002;<Emphasis Type="Italic">CSS for a Simple Captioned Image</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">dl#gallery dd { position: absolute; left: 200px; top: 2.2em; opacity: 0;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">text-align: center; font-family: Futura, Arial, sans-serif; color: white;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">transition: .85s opacity linear; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">dl#gallery dd img { display: block; margin: auto; padding-bottom: 1.2em; }</Emphasis></Para><Para>In this case your captions will fade in with the images. It&#x2019;s also common to animate the captions separately from the images, which you&#x2019;ll do in the next exercise.</Para></Section2><Section2 ID="Sec10"><Heading>Changing the Initiating Event<IndexTerm><Primary><Emphasis Type="Bold">Image gallery</Emphasis></Primary><Secondary><Emphasis Type="Bold">initiating event</Emphasis></Secondary></IndexTerm></Heading><Para>While <Emphasis FontCategory="NonProportional">:hover</Emphasis> works to initiate the fade-in of the large image in the gallery, it may seem more natural for users to <Emphasis Type="Italic">click</Emphasis> the thumbnail. There, you have something of a problem: there is no direct equivalent to the JavaScript <Emphasis FontCategory="NonProportional">onclick</Emphasis> event handler in CSS. However, there are a few alternatives in this case.</Para><Section3 ID="Sec11"><Heading>:active<IndexTerm><Primary><Emphasis Type="Bold">Image gallery</Emphasis></Primary><Secondary><Emphasis Type="Bold">initiating event</Emphasis></Secondary><Tertiary><Emphasis Type="Bold">active</Emphasis></Tertiary></IndexTerm></Heading><Para>While it is most strongly associated with links, it is possible to use the <Emphasis FontCategory="NonProportional">:active</Emphasis> pseudo-class to initiate the transition, as shown in Listing 3-12.</Para><Para><Emphasis Type="BoldItalic">Listing 3</Emphasis><Emphasis Type="Italic">-</Emphasis><Emphasis Type="BoldItalic">12.</Emphasis>&#x2002;<Emphasis Type="Italic">CSS for an Effect on Mouse-down</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">dl#gallery dt:active</Emphasis> + <Emphasis FontCategory="NonProportional">dd { opacity: 1; }</Emphasis></Para><Para>You&#x2019;ll see the primary disadvantage of this approach immediately: the large image only appears as long as the mouse button is held down over the thumbnail.</Para></Section3><Section3 ID="Sec12"><Heading>:target<IndexTerm><Primary><Emphasis Type="Bold">Image gallery</Emphasis></Primary><Secondary><Emphasis Type="Bold">initiating event</Emphasis></Secondary><Tertiary><Emphasis Type="Bold">target</Emphasis></Tertiary></IndexTerm></Heading><Para>The use of :<Emphasis FontCategory="NonProportional">target</Emphasis> may be the most effective pseudo-selector in this instance, although it does require some addition to your markup. <Emphasis FontCategory="NonProportional">:target</Emphasis> derives from the use of traditional &#x201C;anchors&#x201D; of <Emphasis FontCategory="NonProportional">id</Emphasis> values, detecting clicks on elements linked to those ids.</Para><Para>Your HTML changes to that shown in Listing 3-13.</Para><Para><Emphasis Type="BoldItalic">Listing 3</Emphasis><Emphasis Type="Italic">-</Emphasis><Emphasis Type="BoldItalic">13.</Emphasis>&#x2002;<Emphasis Type="Italic">HTML for an Image Gallery with :target</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;dl id=</Emphasis><Emphasis FontCategory="NonProportional">gallery&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;dt&#x003E;&#x003C;</Emphasis><Emphasis FontCategory="NonProportional">a href=</Emphasis><Emphasis FontCategory="NonProportional">#jatropha&#x003E;&#x003C;</Emphasis><Emphasis FontCategory="NonProportional">img src=</Emphasis><Emphasis FontCategory="NonProportional">jatropha_thumb.jpg alt=</Emphasis><Emphasis FontCategory="NonProportional">&quot;Jatropha Leaf Thumbnail&quot;&#x003E;&#x003C;</Emphasis><Emphasis FontCategory="NonProportional">/a&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;dd id=</Emphasis><Emphasis FontCategory="NonProportional">jatropha&#x003E;&#x003C;</Emphasis><Emphasis FontCategory="NonProportional">img src=</Emphasis><Emphasis FontCategory="NonProportional">jatropha.jpg alt=</Emphasis><Emphasis FontCategory="NonProportional">&quot;Jatropha Leaf Large&quot;&#x003E;</Emphasis> &#x2009;</Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">A closeup photograph of a Jatropha Hybrid leaf</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;dt&#x003E;&#x003C;</Emphasis><Emphasis FontCategory="NonProportional">a href=</Emphasis><Emphasis FontCategory="NonProportional">#veins&#x003E;&#x003C;</Emphasis><Emphasis FontCategory="NonProportional">img src=</Emphasis><Emphasis FontCategory="NonProportional">leaf-veins_thumb.jpg alt=</Emphasis><Emphasis FontCategory="NonProportional">&quot;Leaf Veins Thumbnail&quot;&#x003E;&#x003C;</Emphasis><Emphasis FontCategory="NonProportional">/a&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;dd id=</Emphasis><Emphasis FontCategory="NonProportional">veins&#x003E;&#x003C;</Emphasis><Emphasis FontCategory="NonProportional">img src=</Emphasis><Emphasis FontCategory="NonProportional">leaf-veins.jpg alt=</Emphasis><Emphasis FontCategory="NonProportional">&quot;Leaf Veins&quot;&#x003E;</Emphasis> &#x2009;</Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">Closeup photgraph of leaf veins</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;dt&#x003E;&#x003C;</Emphasis><Emphasis FontCategory="NonProportional">a href=</Emphasis><Emphasis FontCategory="NonProportional">#cascada&#x003E;&#x003C;</Emphasis><Emphasis FontCategory="NonProportional">img src=</Emphasis><Emphasis FontCategory="NonProportional">cascada_thumb.jpg alt=</Emphasis><Emphasis FontCategory="NonProportional">&quot;Cascada Thumbnail&quot;&#x003E;&#x003C;</Emphasis><Emphasis FontCategory="NonProportional">/a&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;dd id=</Emphasis><Emphasis FontCategory="NonProportional">cascada&#x003E;&#x003C;</Emphasis><Emphasis FontCategory="NonProportional">img src=</Emphasis><Emphasis FontCategory="NonProportional">cascada.jpg alt=</Emphasis><Emphasis FontCategory="NonProportional">&quot;Cascada Large&quot;&#x003E;</Emphasis> &#x2009;</Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">Falls in Dundas Peak, Ontario, Canada</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;/dl&#x003E;</Emphasis></Para><Para>Under normal circumstances a link to an anchor would force the page to scroll to the location of the <Emphasis FontCategory="NonProportional">id</Emphasis> with a visual jump; that is avoided in this case because the <Emphasis FontCategory="NonProportional">dd</Emphasis> elements are absolutely positioned near the top of the page.</Para><Para>Only one line of the CSS requires modification. Your <Emphasis FontCategory="NonProportional">:hover</Emphasis> declaration changes as shown in Listing 3-14.</Para><Para><Emphasis Type="BoldItalic">Listing 3</Emphasis><Emphasis Type="Italic">-</Emphasis><Emphasis Type="BoldItalic">14.</Emphasis>&#x2002;<Emphasis Type="Italic">CSS for an Image Gallery with :target</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">dd#jatropha:target, dd#veins:target, dd#cascada:target { opacity: 1; }</Emphasis></Para><Para>This approach also has the advantage of modifying the URL, meaning that users may be led to particular images through the use of links with appended ids. For example, <ExternalRef><RefSource>www.yourdomain.com/gallery.html#cascada</RefSource><RefTarget TargetType="URL" Address="http://www.yourdomain.com/gallery.html#cascada"/></ExternalRef> would bring up the last image in the gallery automatically.</Para></Section3></Section2></Section1><Section1 ID="Sec13"><Heading>Simple Popup Image<IndexTerm><Primary><Emphasis Type="Bold">Popup image</Emphasis></Primary></IndexTerm> Captions</Heading><Para>It is also possible to display the caption of an image on mouseover, either in a gallery or as part of a user interface. The ideal markup for this is either a definition list, as in the previous example, or a &#x2009;<Emphasis FontCategory="NonProportional">&#x003C;figure</Emphasis>&#x003E; &#x2009;and &#x2009;<Emphasis FontCategory="NonProportional">&#x003C;figcaption&#x003E;</Emphasis>, which are the elements you&#x2019;ll use for this next example, as shown in Figure <InternalRef RefID="Fig3">3-3</InternalRef> and Listing 3-15. (I&#x2019;m using photographs by Bradley Davis (<ExternalRef><RefSource>www.flickr.com/photos/backpackphotography/244716694/</RefSource><RefTarget TargetType="URL" Address="http://www.flickr.com/photos/backpackphotography/244716694/"/></ExternalRef>) and Wolfgang Staudt (<ExternalRef><RefSource>www.flickr.com/photos/wolfgangstaudt/</RefSource><RefTarget TargetType="URL" Address="http://www.flickr.com/photos/wolfgangstaudt/"/></ExternalRef>). If you decide to use your own images, make sure they are of a similar size.)<Figure ID="Fig3" Float="Yes" Category="Standard"><Caption Language="En"><CaptionNumber>Figure 3-3</CaptionNumber>.&#x2002;<CaptionContent><SimplePara>Animated image captions<IndexTerm><Primary><Emphasis Type="Italic">Popup image</Emphasis></Primary><Secondary> <Emphasis Type="Italic">Animated image</Emphasis></Secondary></IndexTerm></SimplePara></CaptionContent></Caption><MediaObject ID="MO3"><ImageObject FileRef="9781430247227_Fig03-03.gif" Format="GIF" Color="BlackWhite" Type="Linedraw" Rendition="HTML"/></MediaObject></Figure></Para><Para>In this case, the captions are descriptions of the image, but this technique could also be used for the graphical navigation for a site (see Chapter 4).</Para><Para><Emphasis Type="BoldItalic">Listing 3</Emphasis><Emphasis Type="Italic">-</Emphasis><Emphasis Type="BoldItalic">15</Emphasis><Emphasis Type="Italic">.&#x2002;HTML5 Figure and Figcaption Code</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;figure&#x003E;</Emphasis></Para><Para Type="Programcode">        <Emphasis FontCategory="NonProportional">&#x003C;img src=</Emphasis><Emphasis FontCategory="NonProportional">devils-tower.jpg alt=</Emphasis><Emphasis FontCategory="NonProportional">&quot;A photo of Devil&#x0027;s Tower, inWyoming, USA&quot;&#x003E;</Emphasis></Para><Para Type="Programcode">        <Emphasis FontCategory="NonProportional">&#x003C;figcaption&#x003E;</Emphasis> &#x2009;<Emphasis FontCategory="NonProportional">Devil&#x0027;s Tower, Wyoming, USA&#x003C;/figcaption&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;/figure&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;figure style=</Emphasis><Emphasis FontCategory="NonProportional">left:550px&#x003E;</Emphasis></Para><Para Type="Programcode">        <Emphasis FontCategory="NonProportional">&#x003C;img src=</Emphasis><Emphasis FontCategory="NonProportional">sunrise-point.jpg alt=</Emphasis><Emphasis FontCategory="NonProportional">&quot;A photo of Sunrise Point, Bryce National Park, Utah, USA&quot;&#x003E;</Emphasis></Para><Para Type="Programcode">        <Emphasis FontCategory="NonProportional">&#x003C;figcaption&#x003E;</Emphasis> &#x2009;<Emphasis FontCategory="NonProportional">Bryce National Park, Utah, USA&#x003C;/figcaption&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;/figure&#x003E;</Emphasis></Para><Para>You&#x2019;re going to do a few things in the CSS. First, the images and the <Emphasis FontCategory="NonProportional">figure</Emphasis> element surrounding them should be set to the same size and floated side-by-side. You&#x2019;ll also style the captions before hiding them with more CSS.</Para><FormalPara Type="Overview" RenderingStyle="Style1"><Heading></Heading><Para>Traditionally, fonts on web pages have been sized in pixels, percentages, or ems. The latter two have generally been the preferred approach because they are inherently scalable. Since <Emphasis FontCategory="NonProportional">1em</Emphasis> is literally the width of the <Emphasis FontCategory="NonProportional">M</Emphasis> character, making paragraph text 20% larger was as easy as stating that the <Emphasis FontCategory="NonProportional">font-size</Emphasis> for the <Emphasis FontCategory="NonProportional">p</Emphasis> selector was <Emphasis FontCategory="NonProportional">1.2em</Emphasis>. Using <Emphasis FontCategory="NonProportional">em</Emphasis> also makes it easy to proportionally size the space between elements as font sizes increase and decrease. For example, you set the gutter between an image and the text surrounding it by measuring the image&#x2019;s margin in <Emphasis FontCategory="NonProportional">em</Emphasis> units, creating a visual relationship between body copy and illustrations.</Para><Para>The one issue with using <Emphasis FontCategory="NonProportional">em</Emphasis> as a measurement system in web pages is that it compounds, due to the fact that the unit is always set <Emphasis Type="Italic">relative to the font size of the parent element</Emphasis>. Setting <Emphasis FontCategory="NonProportional">li</Emphasis> elements to <Emphasis FontCategory="NonProportional">1.2em</Emphasis> in size is fine until you nest a list inside it: the content of the inner l<Emphasis FontCategory="NonProportional">i</Emphasis> will be rendered at <Emphasis FontCategory="NonProportional">1.4em</Emphasis> in size.</Para><Para><Emphasis FontCategory="NonProportional">rem</Emphasis> (for <Emphasis Type="Italic">root em</Emphasis>) gets around this problem by measuring itself relative to the root element&#x2014;that is, the <Emphasis FontCategory="NonProportional">html</Emphasis> element. This means that you can declare a single font size on the <Emphasis FontCategory="NonProportional">html</Emphasis> selector and scale everything relative to that, as shown in Listing 3-16.</Para></FormalPara><Para><Emphasis Type="BoldItalic">Listing 3</Emphasis><Emphasis Type="Italic">-</Emphasis><Emphasis Type="BoldItalic">16.</Emphasis>&#x2002;<Emphasis Type="Italic">rem Font Sizing for a Document</Emphasis><IndexTerm><Primary>Popup image</Primary><Secondary>rem font size</Secondary></IndexTerm></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">html { font-size: 62.5% }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">body { font-size: 1.4rem; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">h1 { font-size: 2.4rem; }</Emphasis></Para><Para>This also translates nicely to pixels: in the stylesheet above, body text on the page will be equivalent to 14px in size and <Emphasis FontCategory="NonProportional">h1</Emphasis> elements rendered at 24 pixels.</Para><Para>Browser support for rem is surprisingly good: all recent browsers that support CSS Transforms (Safari 5+, Chrome, Firefox 3.6+, IE9+, and Opera 11.6+) also support the <Emphasis FontCategory="NonProportional">rem</Emphasis> unit).</Para><Para>Now let&#x2019;s look at basic CSS for a figure and caption (see Listing 3-17).</Para><Para><Emphasis Type="BoldItalic">Listing 3</Emphasis><Emphasis Type="Italic">-</Emphasis><Emphasis Type="BoldItalic">17.</Emphasis>&#x2002;<Emphasis Type="Italic">Basic CSS for a Figure and Caption</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure { float: left; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure, figure img { width: 500px; height: 333px; }</Emphasis></Para><Para>figcaption {</Para><Para>font-family: Baskerville, &quot;Baskerville Old Face&quot;, Garamond, &quot;Times New Roman&quot;, serif;</Para><Para Type="Programcode">font-style: italic; background: rgba(0,0,0,0.4);</Para><Para Type="Programcode">font-size: 2rem; padding: 0.8rem; color: #fff;</Para><Para Type="Programcode">}</Para><Para>At this stage, the page will look something like Figure <InternalRef RefID="Fig4">3-4</InternalRef>.<Figure ID="Fig4" Float="Yes" Category="Standard"><Caption Language="En"><CaptionNumber>Figure 3-4</CaptionNumber>.&#x2002;<CaptionContent><SimplePara>Images with positioned captions, prior to being hidden</SimplePara></CaptionContent></Caption><MediaObject ID="MO4"><ImageObject FileRef="9781430247227_Fig03-04.gif" Format="GIF" Color="BlackWhite" Type="Linedraw" Rendition="HTML"/></MediaObject></Figure></Para><Para>Now that they are styled, you&#x2019;ll hide the captions by using <Emphasis FontCategory="NonProportional">overflow: hidden</Emphasis> on the figure element. At the same time, you need to position the caption. For the images in this example, bringing the captions down from the top will probably look the best. There are a few possible methods for locating the captions. I will use <Emphasis FontCategory="NonProportional">relative</Emphasis> positioning and a value for <Emphasis FontCategory="NonProportional">bottom</Emphasis> that is slightly greater than the height of the image plus the height of the caption (see Listing 3-18).</Para><FormalPara Type="Important" RenderingStyle="Style1"><Heading>Tip</Heading><Para>It&#x2019;s a good idea to check that the relocation of an element works before adding in transitions.</Para></FormalPara><Para><Emphasis Type="BoldItalic">Listing 3</Emphasis><Emphasis Type="Italic">-</Emphasis><Emphasis Type="BoldItalic">18.</Emphasis>&#x2002;<Emphasis Type="Italic">CSS to Hide and Position a Caption</Emphasis><IndexTerm><Primary>Popup image</Primary><Secondary>CSS,hide</Secondary></IndexTerm></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure { float: left; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure, figure img { width: 500px; height: 333px; overflow: hidden; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figcaption {</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">font-family: Baskerville, Garamond, &quot;Times New Roman&quot;, serif;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">font-style: italic; background: rgba(0,0,0,0.4); font-size: 2rem;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">padding: 0.8rem; color: #fff;  position: relative;  bottom: 400px;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">}</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure:hover figcaption { bottom: 340px; }</Emphasis></Para><Para>Finally, you&#x2019;ll add in the transition of the caption, as shown in Listing 3-19.</Para><Para><Emphasis Type="BoldItalic">Listing 3</Emphasis><Emphasis Type="Italic">-</Emphasis><Emphasis Type="BoldItalic">19.</Emphasis>&#x2002;<Emphasis Type="Italic">CSS to Transition a Caption</Emphasis><IndexTerm><Primary>Popup image</Primary><Secondary>CSS, transition</Secondary></IndexTerm></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figcaption {</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">font-family: Baskerville, Garamond, &quot;Times New Roman&quot;, serif;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">font-style: italic; background: rgba(0,0,0,0.4);</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">font-size: 2rem; padding: 0.8</Emphasis><Emphasis FontCategory="NonProportional">rem; color: #fff;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">position: relative;  bottom: 400px;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">transition: 2s all; }</Emphasis></Para><FormalPara Type="Important" RenderingStyle="Style1"><Heading>Note</Heading><Para>I&#x2019;ve kept our images accessible by using descriptive filenames and alt attribute values. This is very important: always remember that not everyone will be able to see or interact with your designs.</Para></FormalPara></Section1><Section1 ID="Sec14"><Heading>Image Card Stack <IndexTerm><Primary><Emphasis Type="Bold">Image card stack</Emphasis></Primary></IndexTerm>and Fan Reveal<IndexTerm><Primary><Emphasis Type="Bold">Image fan reveal</Emphasis></Primary></IndexTerm></Heading><Para>As web pages become more complex, they become more difficult to summarize and illustrate. If you&#x2019;ve created an extensive gallery page, it can be very difficult to choose just one image to spark visitors&#x2019; interest. One possible solution is to use several images, displayed either in a keyframed <Emphasis Type="Italic">slider</Emphasis> gallery (as shown in Chapter 5) or an interactive display. In this case, I&#x2019;ll visibly stack several photographs on top of each other, revealing them on mouseover to create greater interest and understanding of the linked content (see Figure <InternalRef RefID="Fig5">3-5</InternalRef>).<Figure ID="Fig5" Float="Yes" Category="Standard"><Caption Language="En"><CaptionNumber>Figure 3-5</CaptionNumber>.&#x2002;<CaptionContent><SimplePara>An animated card fan effect</SimplePara></CaptionContent></Caption><MediaObject ID="MO5"><ImageObject FileRef="9781430247227_Fig03-05.gif" Format="GIF" Color="BlackWhite" Type="Linedraw" Rendition="HTML"/></MediaObject></Figure></Para><Para>Again, you will use images of the same size to produce the best results, as shown in Listing 3-20.</Para><Para><Emphasis Type="BoldItalic">Listing 3</Emphasis><Emphasis Type="Italic">-</Emphasis><Emphasis Type="BoldItalic">20</Emphasis><Emphasis Type="Italic">.&#x2002;HTML for an Animated Image Card Fan Effect</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;div id=</Emphasis><Emphasis FontCategory="NonProportional">cardfan&#x003E;</Emphasis></Para><Para Type="Programcode">        <Emphasis FontCategory="NonProportional">&#x003C;img src=</Emphasis><Emphasis FontCategory="NonProportional">bike.jpg alt=</Emphasis><Emphasis FontCategory="NonProportional">&quot;A photograph of a bicycle parked on Italian street&quot;&#x003E;</Emphasis></Para><Para Type="Programcode">        <Emphasis FontCategory="NonProportional">&#x003C;img src=</Emphasis><Emphasis FontCategory="NonProportional">florence.jpg alt=&quot;A photograph of bridge in Florence, Italy&quot;&#x003E;</Emphasis></Para><Para Type="Programcode">        <Emphasis FontCategory="NonProportional">&#x003C;img src=</Emphasis><Emphasis FontCategory="NonProportional">roma.jpg alt=</Emphasis><Emphasis FontCategory="NonProportional">&quot;A photograph of a ruined aqueduct outside Rome&quot;&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;/div&#x003E;</Emphasis></Para><Para>You&#x2019;ve wrapped the images in a container element to make them easier to reference and control via CSS. The <Emphasis FontCategory="NonProportional">div</Emphasis> and the images it contains are the same size. You&#x2019;ll also center-align the container to the page while styling and stacking the images inside (see Listing 3-21).</Para><Para><Emphasis Type="BoldItalic">Listing 3-21.</Emphasis>&#x2002;<Emphasis Type="Italic">Basic CSS for a Card Fan Effect</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">#cardfan, #cardfan img { width: 640px; height: 480px; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">#cardfan { margin: 0 auto; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">#cardfan img { border: 32px solid #ffe;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">box-shadow: 12px 12px 10px rgba(0, 0, 0, 0.2);</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">position: absolute; }</Emphasis></Para><Para>You want to have the images fan out when the user hovers over them; you can achieve this by rotating the <Emphasis Type="Italic">first</Emphasis> and <Emphasis Type="Italic">last</Emphasis> images in the stack by 12 degrees through the use of the <Emphasis FontCategory="NonProportional">:first-child</Emphasis> and <Emphasis FontCategory="NonProportional">:last-child</Emphasis> pseudo-classes, as shown in Listing 3<Emphasis Type="Bold">-</Emphasis>22.</Para><Para><Emphasis Type="BoldItalic">Listing 3-22.</Emphasis>&#x2002;<Emphasis Type="Italic">Rotation of the First and Last Images in a Card Stack Effect</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">#cardfan:hover img:first-child {</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transform: rotate(12deg);</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">}</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">#cardfan:hover img:last-child {</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transform: rotate(&#x2212;12deg);</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">}</Emphasis></Para><Para>The code in Listing 3<Emphasis Type="Bold">-</Emphasis>22 will produce the image shown in Figure <InternalRef RefID="Fig6">3<Emphasis Type="Bold">-</Emphasis>6</InternalRef>.<Figure ID="Fig6" Float="Yes" Category="Standard"><Caption Language="En"><CaptionNumber>Figure 3-6</CaptionNumber>.&#x2002;<CaptionContent><SimplePara>Stacked images rotated with CSS transforms around their respective centers<IndexTerm><Primary><Emphasis Type="Italic">Image card stack</Emphasis></Primary><Secondary><Emphasis Type="Italic">Css transforms</Emphasis></Secondary></IndexTerm></SimplePara></CaptionContent></Caption><MediaObject ID="MO6"><ImageObject FileRef="9781430247227_Fig03-06.gif" Format="GIF" Color="BlackWhite" Type="Linedraw" Rendition="HTML"/></MediaObject></Figure></Para><Para>As you can see, the image rotates around its center. In this case, you want the images to be slightly fanned, so you&#x2019;ll need to move the axis of transformation <Emphasis Type="Italic">below</Emphasis> the images (see Listing 3<Emphasis Type="Bold">-</Emphasis>23).</Para><Para><Emphasis Type="BoldItalic">Listing 3-23.</Emphasis>&#x2002;<Emphasis Type="Italic">Offsetting the Transform Origin for Images</Emphasis><IndexTerm><Primary>Image card stack</Primary><Secondary>transform origin</Secondary></IndexTerm></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">#cardfan img { border: 32px solid #ffe;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">box-shadow: 12px 12px 10px rgba(0, 0, 0, 0.2);</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">position: absolute;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transform-origin: center 600px;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">}</Emphasis></Para><Para>The code in Listing 3<Emphasis Type="Bold">-</Emphasis>23 will produce the output shown in Figure <InternalRef RefID="Fig7">3<Emphasis Type="Bold">-</Emphasis>7</InternalRef>.<Figure ID="Fig7" Float="Yes" Category="Standard"><Caption Language="En"><CaptionNumber>Figure 3-7</CaptionNumber>.&#x2002;<CaptionContent><SimplePara>Stacked images rotated around an offset origin, highlighted with crosshairs<IndexTerm><Primary><Emphasis Type="Italic">Image card stack</Emphasis></Primary><Secondary><Emphasis Type="Italic">offset origin</Emphasis></Secondary></IndexTerm></SimplePara></CaptionContent></Caption><MediaObject ID="MO7"><ImageObject FileRef="9781430247227_Fig03-07.gif" Format="GIF" Color="BlackWhite" Type="Linedraw" Rendition="HTML"/></MediaObject></Figure></Para><Para>Now you can truly fan the cards out, applying a transition at the same time, as shown in Listing 3<Emphasis Type="Bold">-</Emphasis>24. (Note that I&#x2019;ve altered some values to increase the fan effect.)</Para><Para><Emphasis Type="BoldItalic">Listing 3-24.</Emphasis>&#x2002;<Emphasis Type="Italic">Full CSS for an Animated Card Fan Gallery</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">#cardfan, #cardfan img { width: 640px; height: 480px;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">transition: .6s transform ease-out;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">}</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">#cardfan { margin: 0 auto; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">#cardfan img { border: 32px solid #ffe;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">box-shadow: 12px 12px 10px rgba(0, 0, 0, 0.2);</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">position: absolute;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">transform-origin: center 1200px;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">}</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div#cardfan:hover img:first-child {</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transform: rotate(24deg);</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">}</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div#cardfan:hover img:last-child {</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transform: rotate(&#x2212;24deg);</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">}</Emphasis></Para><Para>You could also link the images to a gallery page, as shown in Listing 3<Emphasis Type="Bold">-</Emphasis>25.</Para><Para><Emphasis Type="BoldItalic">Listing 3-25.</Emphasis>&#x2002;<Emphasis Type="Italic">A Linked Card Fan Gallery</Emphasis><IndexTerm><Primary>Image fan reveal</Primary><Secondary>card fan gallery</Secondary></IndexTerm></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;div id=</Emphasis><Emphasis FontCategory="NonProportional">cardfan&#x003E;</Emphasis></Para><Para Type="Programcode">	<Emphasis FontCategory="NonProportional">&#x003C;a href=</Emphasis><Emphasis FontCategory="NonProportional">gallery.html&#x003E;</Emphasis></Para><Para Type="Programcode">		<Emphasis FontCategory="NonProportional">&#x003C;img src=</Emphasis><Emphasis FontCategory="NonProportional">bike.jpg alt=</Emphasis><Emphasis FontCategory="NonProportional">&quot;A photograph of a bicycle parked on Italian street&quot;&#x003E;</Emphasis></Para><Para Type="Programcode">		<Emphasis FontCategory="NonProportional">&#x003C;img src=</Emphasis><Emphasis FontCategory="NonProportional">florence.jpg alt=&quot;A photograph of bridge in Florence, Italy&quot;&#x003E;</Emphasis></Para><Para Type="Programcode">		<Emphasis FontCategory="NonProportional">&#x003C;img src=</Emphasis><Emphasis FontCategory="NonProportional">roma.jpg alt=</Emphasis><Emphasis FontCategory="NonProportional">&quot;A photograph of a ruined aqueduct outside Rome&quot;&#x003E;</Emphasis></Para><Para Type="Programcode">	<Emphasis FontCategory="NonProportional">&#x003C;/a&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;/div&#x003E;</Emphasis></Para><Para>If you want to rotate the <Emphasis Type="Italic">first and second</Emphasis> images and leave the photograph on top unaltered, change the following selector:</Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div#cardfan:hover img:last-child</Emphasis></Para><Para>to</Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div#cardfan:hover img:nth-child(2n)</Emphasis></Para><Para>You could also rotate the default position of the images slightly to allow the user some understanding of what is to come, as shown in Listing 3<Emphasis Type="Bold">-</Emphasis>26.</Para><Para><Emphasis Type="BoldItalic">Listing 3-26.</Emphasis>&#x2002;<Emphasis Type="Italic">A Visually Hinted Card Fan Gallery</Emphasis><IndexTerm><Primary>Image fan reveal</Primary><Secondary>hinted card fan</Secondary></IndexTerm></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">#cardfan img:first-child {</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transform: rotate(6deg);</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">}</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">#cardfan img:nth-child(2n) {</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transform: rotate(&#x2212;6deg);</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">}</Emphasis></Para><Para>You could also link the photographs individually to the gallery example at the beginning of this chapter (see Listing 3<Emphasis Type="Bold">-</Emphasis>27).</Para><Para><Emphasis Type="BoldItalic">Listing 3-27.</Emphasis>&#x2002;<Emphasis Type="Italic">A Card Fan Gallery with Individually Linked Images</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;div id=</Emphasis><Emphasis FontCategory="NonProportional">cardfan&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;a href=</Emphasis><Emphasis FontCategory="NonProportional">&quot;gallery.html#bike&quot;&#x003E;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">&#x003C;img src=</Emphasis><Emphasis FontCategory="NonProportional">bike.jpg alt=</Emphasis><Emphasis FontCategory="NonProportional">&quot;A photograph of a bicycle parked on Italian street&quot;&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;/a&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;a href=</Emphasis><Emphasis FontCategory="NonProportional">&quot;gallery.html#florence&quot;&#x003E;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">&#x003C;img src=</Emphasis><Emphasis FontCategory="NonProportional">florence.jpg alt==&quot;A photograph of bridge in Florence, Italy&quot;&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;/a&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;a href=</Emphasis><Emphasis FontCategory="NonProportional">&quot;gallery.html#aqueduct&quot;&#x003E;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">&#x003C;img src=</Emphasis><Emphasis FontCategory="NonProportional">roma.jpg alt=</Emphasis><Emphasis FontCategory="NonProportional">&quot;A photograph of a ruined aqueduct outside Rome&quot;&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;/a&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;/div&#x003E;</Emphasis></Para><Para>However, if you link the images individually you will need to change your CSS, as the organization of your markup has changed. Rather than referencing them as children, you&#x2019;ll reference the images through the value of their <Emphasis FontCategory="NonProportional">src</Emphasis> attribute (see Listing 3<Emphasis Type="Bold">-</Emphasis>28).</Para><Para><Emphasis Type="BoldItalic">Listing 3-28.</Emphasis>&#x2002;<Emphasis Type="Italic">A Card Fan Gallery with Images Referenced by Their src Attribute</Emphasis><IndexTerm><Primary>Image fan reveal</Primary><Secondary>src attribute</Secondary></IndexTerm></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">#cardfan img[src=</Emphasis><Emphasis FontCategory="NonProportional">&quot;bike.jpg&quot;] {</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transform: rotate(6deg);</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">}</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">#cardfan img[src=</Emphasis><Emphasis FontCategory="NonProportional">&quot;roma.jpg&quot;] {</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transform: rotate(&#x2212;6deg);</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">}</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">#cardfan:hover img[src=</Emphasis><Emphasis FontCategory="NonProportional">&quot;bike.jpg&quot;] {</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transform: rotate(24deg);</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">}</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">#cardfan:hover img[src=</Emphasis><Emphasis FontCategory="NonProportional">&quot;roma.jpg&quot;] {</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transform: rotate(&#x2212;24deg);</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">}</Emphasis></Para><Para>Note that the technique in Listing 3<Emphasis Type="Bold">-</Emphasis>26 is less flexible than creating and referencing id values for your images: if you change the filenames for any reason, you will have to change your CSS in response.</Para><Para>You could also raise the individual images to the foreground when hovered over (see Listing 3<Emphasis Type="Bold">-</Emphasis>29).</Para><Para><Emphasis Type="BoldItalic">Listing 3-29.</Emphasis>&#x2002;<Emphasis Type="Italic">A Card Fan Gallery Image Raised to the Foreground</Emphasis><IndexTerm><Primary>Image fan reveal</Primary><Secondary>foreground</Secondary></IndexTerm></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">img[src=</Emphasis><Emphasis FontCategory="NonProportional">&quot;bike.jpg&quot;]:hover, img[src=</Emphasis><Emphasis FontCategory="NonProportional">&quot;florence.jpg&quot;]:hover { z-index: 2; }</Emphasis></Para><Para>You could have written less markup (but slightly more CSS) by using <Emphasis FontCategory="NonProportional">::before</Emphasis> and <Emphasis FontCategory="NonProportional">::after</Emphasis> pseudo-element selectors to generate the other images. (Note that you cannot use generated content on &#x2009;<Emphasis FontCategory="NonProportional">&#x003C;img</Emphasis>&#x003E; &#x2009;tags, as they are a form of replaced element). It&#x2019;s also important to note that this approach practically kills accessibility, as most screen readers do not currently access generated content, nor can JavaScript gain access to it. The technique shown here is mentioned as an interesting possibility, not as a production method for central content in a site.</Para><FormalPara Type="Important" RenderingStyle="Style1"><Heading>Note</Heading><Para><Emphasis Type="Italic">Replaced</Emphasis> elements are HTML elements that have an intrinsic width and height, without benefit of CSS; that is, any tag that produces a placeholder which then has its content replaced by an external resource. For example, when you use &#x2009;<Emphasis FontCategory="NonProportional">&#x003C;input type</Emphasis><Emphasis FontCategory="NonProportional">=text&#x003E;</Emphasis>, a text box appears at a size that is suitable for single-line text input. This doesn&#x2019;t mean you can&#x2019;t apply CSS to resize it, just that the browser <Emphasis Type="Italic">replaces</Emphasis> instances of the &#x2009;<Emphasis FontCategory="NonProportional">&#x003C;input&#x003E;</Emphasis> &#x2009;tag with elements of a predetermined size by default. The same happens with &#x2009;<Emphasis FontCategory="NonProportional">&#x003C;img&#x003E;</Emphasis>; with no CSS, images are loaded onto the page at their natural width and height.</Para><Para><Emphasis FontCategory="NonProportional">&#x003C;br&#x003E;</Emphasis>, <Emphasis FontCategory="NonProportional">&#x003C;img&#x003E;</Emphasis>, <Emphasis FontCategory="NonProportional">&#x003C;video&#x003E;</Emphasis>, <Emphasis FontCategory="NonProportional">&#x003C;iframe&#x003E;</Emphasis>, and <Emphasis FontCategory="NonProportional">&#x003C;object&#x003E; </Emphasis>are all replaced elements, as are <Emphasis FontCategory="NonProportional">&#x003C;input&#x003E;</Emphasis>, <Emphasis FontCategory="NonProportional">&#x003C;button&#x003E;</Emphasis>, and <Emphasis FontCategory="NonProportional">&#x003C;textrarea</Emphasis><Emphasis FontCategory="NonProportional">&#x003E;</Emphasis>.</Para><Para>Most important, in the context of this exercise and as a general rule, <Emphasis Type="Italic">generated content cannot be applied to replaced elements.</Emphasis> That is, you cannot use <Emphasis FontCategory="NonProportional">::before</Emphasis> or <Emphasis FontCategory="NonProportional">::after</Emphasis> on &#x2009;<Emphasis FontCategory="NonProportional">&#x003C;img&#x003E;</Emphasis> &#x2009;or the other tags listed above. In addition, you cannot transform inline elements unless they are also replaced elements.</Para></FormalPara><Para>Taking this route, your HTML and CSS code simplifies to what you see in Listing 3<Emphasis Type="Bold">-</Emphasis>30.</Para><Para><Emphasis Type="BoldItalic">Listing 3-30.</Emphasis>&#x2002;<Emphasis Type="Italic">HTML and CSS Code for a Card Fan Effect with Generated Content</Emphasis><IndexTerm><Primary>Image fan reveal</Primary><Secondary>HTML and CSS code</Secondary></IndexTerm></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;div id=</Emphasis><Emphasis FontCategory="NonProportional">cardfan&#x003E;</Emphasis></Para><Para Type="Programcode">        <Emphasis FontCategory="NonProportional">&#x003C;img src=</Emphasis><Emphasis FontCategory="NonProportional">florence.jpg alt=</Emphasis><Emphasis FontCategory="NonProportional">&quot;A photograph of bridge in Florence, Italy&quot;&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;/div&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">#cardfan { position: relative; margin: 0 auto; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">#cardfan, #cardfan img, #cardfan img:before, #cardfan img:after {</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">width: 640px; height: 480px;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">}</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">#cardfan img, #cardfan:before, #cardfan:after {</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">border: 32px solid #ffe;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">box-shadow: 12px 12px 10px rgba(0, 0, 0, 0.2);</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">position: absolute;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transform-origin: center 1200px;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">}</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div#cardfan::before { content: url(bike.jpg); }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">#cardfan::after { content: url(roma.jpg); }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">#cardfan::before, div#cardfan:after { position: absolute; left: 0; top: 0; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">#cardfan::before { transform: rotate(6deg); }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">#cardfan::after { transform: rotate(&#x2212;6deg);  }</Emphasis></Para><Para>The code in Listing 3<Emphasis Type="Bold">-</Emphasis>30 creates the same card fan effect, with arguably more adaptability; to change the photographs on either side of the central image, you only need to modify your CSS, not your markup. This approach also has significant downsides, as noted previously.</Para><Para>You can animate these generated images by chaining pseudo-selectors, as shown in Listing 3<Emphasis Type="Bold">-</Emphasis>31.</Para><Para><Emphasis Type="BoldItalic">Listing 3-31.</Emphasis>&#x2002;<Emphasis Type="Italic">CSS Code to Animate Generated Content</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div#cardfan:hover::before {</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transform: rotate(24deg);</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">}</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div#cardfan:hover::after {</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transform: rotate(&#x2212;24deg);</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">}</Emphasis></Para><FormalPara Type="Important" RenderingStyle="Style1"><Heading>Note</Heading><Para>Why the double colon in <Emphasis FontCategory="NonProportional">::before</Emphasis> and <Emphasis FontCategory="NonProportional">::after</Emphasis>? One of the few formal changes to existing selectors between CSS2 and 3 was the W3C&#x2019;s addition of another colon in generated content selectors, in order to distinguish their different nature. Modern browsers will recognize and support <Emphasis FontCategory="NonProportional">::</Emphasis> or <Emphasis FontCategory="NonProportional">:</Emphasis> prepended to generated content selectors. In this book, I&#x2019;ve used the new formal version; for greater backward compatibility with older browsers, you may wish to use just one colon.</Para></FormalPara></Section1><Section1 ID="Sec15"><Heading>Clapperboard Image<IndexTerm><Primary><Emphasis Type="Bold">Clapperboard image</Emphasis></Primary></IndexTerm> Captions with Different Entry and Exit Effects<IndexTerm><Primary><Emphasis Type="Bold">Entry and exit effects</Emphasis></Primary></IndexTerm></Heading><Para>While bringing in image captions from the top or bottom works for short pieces of text, the transitions can be a little large and clunky when there is a great deal of text involved. If the caption text is very long, it may be better to &#x201C;swing&#x201D; it in on hover.</Para><Para>You&#x2019;ll use much the same approach you used previously: an image of known dimension (supplied courtesy of NASA), using <Emphasis FontCategory="NonProportional">overflow: hidden</Emphasis> to conceal the caption until you reveal it on hover (see Figure <InternalRef RefID="Fig8">3<Emphasis Type="Bold">-</Emphasis>8</InternalRef>).<Figure ID="Fig8" Float="Yes" Category="Standard"><Caption Language="En"><CaptionNumber>Figure 3-8</CaptionNumber>.&#x2002;<CaptionContent><SimplePara>A clapperboard caption animation</SimplePara></CaptionContent></Caption><MediaObject ID="MO8"><ImageObject FileRef="9781430247227_Fig03-08.gif" Format="GIF" Color="BlackWhite" Type="Linedraw" Rendition="HTML"/></MediaObject></Figure></Para><Para>The HTML and CSS for the clapperboard caption shown in Figure <InternalRef RefID="Fig8">3<Emphasis Type="Bold">-</Emphasis>8</InternalRef> is shown in Listing 3<Emphasis Type="Bold">-</Emphasis>32.</Para><Para><Emphasis Type="BoldItalic">Listing 3-32.</Emphasis>&#x2002;<Emphasis Type="Italic">Code to Create a Clapperboard Caption</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;figure class=</Emphasis><Emphasis FontCategory="NonProportional">clapperboard&#x003E;</Emphasis> &#x2009;</Para><Para Type="Programcode"> &#x2009;<Emphasis FontCategory="NonProportional">&#x003C;img src</Emphasis>=<Emphasis FontCategory="NonProportional">apollo-17.jpg alt</Emphasis>=<Emphasis FontCategory="NonProportional">&quot;Photograph of astronaut on the Moon&quot;&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;figcaption&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;q&#x003E;</Emphasis><Emphasis FontCategory="NonProportional">We leave as we came and, God willing, as we shall return, with peace and hope...&#x003C;/q&#x003E;</Emphasis> &#x2009;</Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x2013; Eugene Cernan, commander of Apollo 18, the last man on the moon.</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;/figcaption&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;/figure&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure.clapperboard { position: relative; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure.clapperboard figcaption { position: absolute; top: 0; left: 0; padding: 2rem; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure.clapperboard, figure.clapperboard figcaption { width:618px;height:515px; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure.clapperboard figcaption q { font-size: 2rem; display: block; margin-bottom: 2</Emphasis><Emphasis FontCategory="NonProportional">rem; }</Emphasis></Para><Para>You haven&#x2019;t yet hidden the caption , which makes it easier to position: you will need to rotate the <Emphasis FontCategory="NonProportional">figcaption</Emphasis> element 90 degrees, so that its bottom right corner matches the corner of the image (see Figure <InternalRef RefID="Fig9">3<Emphasis Type="Bold">-</Emphasis>9</InternalRef>).<Figure ID="Fig9" Float="Yes" Category="Standard"><Caption Language="En"><CaptionNumber>Figure 3-9</CaptionNumber>.&#x2002;<CaptionContent><SimplePara>Figure and Rotated Caption, with Relocated transform-origin Highlighted<IndexTerm><Primary><Emphasis Type="Italic">Clapperboard image</Emphasis></Primary><Secondary><Emphasis Type="Italic">relocated transform</Emphasis></Secondary></IndexTerm></SimplePara></CaptionContent></Caption><MediaObject ID="MO9"><ImageObject FileRef="9781430247227_Fig03-09.gif" Format="GIF" Color="BlackWhite" Type="Linedraw" Rendition="HTML"/></MediaObject></Figure></Para><Para>The code to position the caption in Figure <InternalRef RefID="Fig9">3<Emphasis Type="Bold">-</Emphasis>9</InternalRef> can be seen in Listing 3<Emphasis Type="Bold">-</Emphasis>33. (Note that I&#x2019;ve used the CSS3 <Emphasis FontCategory="NonProportional">box-sizing</Emphasis> property to ensure that the <Emphasis FontCategory="NonProportional">figcaption</Emphasis> remains the right width and height after padding is added.)</Para><Para><Emphasis Type="BoldItalic">Listing 3-33.</Emphasis>&#x2002;<Emphasis Type="Italic">CSS Code to Position a Clapperboard Caption</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure.clapperboard figcaption { font-family: Futura, Arial, sans-serif;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">font-weight: 100; font-style: italic; color: black;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">box-sizing: border-box;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">font-size: 1.2rem; padding: 2</Emphasis><Emphasis FontCategory="NonProportional">rem; padding-top: 8rem;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">border: 2px solid black;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">transform-origin: bottom right; transform: rotate(90deg);</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">}</Emphasis></Para><Para>Now that the caption is in the right location, you can turn off the <Emphasis FontCategory="NonProportional">border</Emphasis>, set <Emphasis FontCategory="NonProportional">overflow</Emphasis> to <Emphasis FontCategory="NonProportional">hidden</Emphasis>, and reverse the colors (see Listing 3<Emphasis Type="Bold">-</Emphasis>34).</Para><Para><Emphasis Type="BoldItalic">Listing 3-34.</Emphasis>&#x2002;<Emphasis Type="Italic">CSS Code to Position a Clapperboard</Emphasis><IndexTerm><Primary>Clapperboard image</Primary><Secondary>CSS code</Secondary></IndexTerm> <Emphasis Type="Italic">Caption</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure.clapperboard, figure.clapperboard figcaption {</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">width:618px;height:515px;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">overflow: hidden;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">}</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure.clapperboard figcaption {</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">font-family: Futura, Arial, sans-serif;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">font-weight: 100; font-style: italic; color: white;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">font-size: 1.2rem; padding: 2</Emphasis><Emphasis FontCategory="NonProportional">rem; padding-top: 8rem;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">box-sizing: border-box;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">background: rgba(0,0,0,0);</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transform-origin: bottom right;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transform: rotate(90deg);</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">}</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure.clapperboard:hover figcaption {</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transform: rotate(0);</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">}</Emphasis></Para><Para>To make this an animated transition, add the following to the <Emphasis FontCategory="NonProportional">figure.clapperboard figcaption</Emphasis> declaration: <Emphasis FontCategory="NonProportional">transition: transform 2s cubic-bezier(.12,.49,.17,.87);.</Emphasis></Para><Para>(Note that you&#x2019;re restricting the transition to tracking just the transformation by using the appropriate property: this is both more efficient and makes it far easier to track the code when you return to it in six months time &#x2009;. &#x2009;. &#x2009;. while avoiding unexpected transitions just  because you&#x2019;ve changed something else between the default and rotated states of the caption).</Para><Para>While this works, there are still a few issues. For example, the text really isn&#x2019;t clear enough to be read against the spacesuit and the backdrop of the moon, so you&#x2019;ll want to add some <Emphasis FontCategory="NonProportional">text-shadow</Emphasis> and <Emphasis FontCategory="NonProportional">background</Emphasis> to the <Emphasis FontCategory="NonProportional">figcaption</Emphasis>.</Para><Para><Emphasis Type="BoldItalic">Listing 3-35.</Emphasis>&#x2002;<Emphasis Type="Italic">Improved Code for a Clapperboard Caption Transition</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure.clapperboard figcaption {</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">font-family: Futura, Arial, sans-serif;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">font-weight: 100; font-style: italic; color: white;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">font-size: 1.2rem; padding: 2</Emphasis><Emphasis FontCategory="NonProportional">rem; padding-top: 8rem;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">box-sizing: border-box;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">background: rgba(0,0,0,0.6);</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">text-shadow: 3px 3px 1px rgba(0,0,0,0.6);</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transform-origin: bottom right;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transform: rotate(90deg);</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transition: transform 2s cubic-bezier(.12,.49,.17,.87);</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">}</Emphasis></Para><Para>That&#x2019;s a significant improvement to the legibility of the text, but the way the edge of the background comes down still looks a little odd. There are a few possible solutions: one is to make the <Emphasis FontCategory="NonProportional">figcaption</Emphasis> wider, pushing the text to the right and the <Emphasis FontCategory="NonProportional">figcaption</Emphasis> itself to the left, so that the box comes down in more of a visual &#x201C;slicing&#x201D; effect (Listing 3<Emphasis Type="Bold">-</Emphasis>36).</Para><Para><Emphasis Type="BoldItalic">Listing 3-36.</Emphasis>&#x2002;<Emphasis Type="Italic">Improved Code for a Clapperboard Caption Transition</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure.clapperboard figcaption {</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">width: 1236px; height:515px;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">font-family: Futura, Arial, sans-serif;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">font-weight: 100; font-style: italic; color: white;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">font-size: 1.2rem; padding:</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">padding: 8rem 2</Emphasis> &#x2009;<Emphasis FontCategory="NonProportional">rem 0 660px;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">box-sizing: border-box;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">background: rgba(0,0,0,0.6);</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">text-shadow: 3px 3px 1px rgba(0,0,0,0.6);</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transform-origin: bottom right;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transform: rotate(90deg);</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">left: -618px;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transition: transform 2s cubic-bezier(.12,.49,.17,.87);</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">}</Emphasis></Para><Para>In this case, I&#x2019;ve made the <Emphasis FontCategory="NonProportional">figcaption</Emphasis> twice as wide as it was before and padded the content in from the left side so that it arrives to cover the same portion of the image. By changing the position of the <Emphasis FontCategory="NonProportional">figcaption</Emphasis> box and the location of the element&#x2019;s transformation origin you&#x2019;ll find that it is possible to create many different kinds of effects.</Para><Section2 ID="Sec16"><Heading>Creating Separate Transition Sequences<IndexTerm><Primary><Emphasis Type="Bold">Clapperboard image</Emphasis></Primary><Secondary><Emphasis Type="Bold">transition sequences</Emphasis></Secondary></IndexTerm></Heading><Para>The other method for creating a caption transition is to fade in the caption background <Emphasis Type="Italic">after</Emphasis> the text has been rotated into place. This requires animating two separate properties, and delaying one until after the first has completed. Setting the <Emphasis FontCategory="NonProportional">background</Emphasis> of the <Emphasis FontCategory="NonProportional">figcaption</Emphasis> to completely transparent by default can start this process, followed by separating the transition effects with commas and adding a delay to one set of values. See Figure <InternalRef RefID="Fig10">3<Emphasis Type="Bold">-</Emphasis>10</InternalRef> for an example.<Figure ID="Fig10" Float="Yes" Category="Standard"><Caption Language="En"><CaptionNumber>Figure 3-10</CaptionNumber>.&#x2002;<CaptionContent><SimplePara>Extended <Emphasis FontCategory="NonProportional">figcaption</Emphasis> for a better clapboard caption transition effect. (overflow: hidden is turned off, colors are reversed, and a border is added for the purposes of illustration.)</SimplePara></CaptionContent></Caption><MediaObject ID="MO10"><ImageObject FileRef="9781430247227_Fig03-10.gif" Format="GIF" Color="BlackWhite" Type="Linedraw" Rendition="HTML"/></MediaObject></Figure></Para><Para>Listing 3<Emphasis Type="Bold">-</Emphasis>37 presents the full CSS code.</Para><Para><Emphasis Type="BoldItalic">Listing 3-37.</Emphasis>&#x2002;<Emphasis Type="Italic">CSS Code for a Clapperboard Caption</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure.clapperboard { position: relative; overflow: hidden; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure.clapperboard figcaption { position: absolute; top: 0; left: 0; padding: 2rem; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure.clapperboard, figure.clapperboard figcaption { width:618px;height:515px; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure.clapperboard figcaption {</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">font-family: Futura, Arial, sans-serif; font-weight: 100; font-style: italic;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">color: white;  font-size: 1.2rem; padding: 2</Emphasis><Emphasis FontCategory="NonProportional">rem; padding-top: 8rem;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">box-sizing: border-box; background: rgba(0,0,0,0);</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">text-shadow: 3px 3px 1px rgba(0,0,0,0.6);</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transform-origin: bottom right; transform: rotate(90deg);</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">}</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure.clapperboard:hover figcaption {</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transform: rotate(0);</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">opacity: 1;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">background: rgba(0,0,0,0.6);</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transition: transform 2s cubic-bezier(.12,.49,.17,.87), background .9</Emphasis><Emphasis FontCategory="NonProportional">s linear 2.2s;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">}</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure.clapperboard figcaption q { font-size: 2rem; display: block; margin-bottom: 2</Emphasis><Emphasis FontCategory="NonProportional">rem; }</Emphasis></Para><Para>You&#x2019;ll notice that the background now fades in 200 milliseconds after the text rotates into place. The one remaining issue is that the caption disappears instantly when the user moves the mouse off the image, causing the same issue that you encountered when I introduced transitions in Chapter 2. Moving the transition code into the default state for <Emphasis FontCategory="NonProportional">figcaption</Emphasis> will mean that the transition will reverse itself on mouseout, which will look a little odd, too. What you want, ideally, is to have the <Emphasis FontCategory="NonProportional">figcaption</Emphasis> disappear in a different way than it appeared.</Para></Section2><Section2 ID="Sec17"><Heading>Changing the Exit Event<IndexTerm><Primary><Emphasis Type="Bold">Clapperboard image</Emphasis></Primary><Secondary><Emphasis Type="Bold">exit event</Emphasis></Secondary></IndexTerm></Heading><Para>To achieve this effect, you will be animating three properties: <Emphasis FontCategory="NonProportional">opacity</Emphasis>, <Emphasis FontCategory="NonProportional">transform</Emphasis>, and <Emphasis FontCategory="NonProportional">background</Emphasis>. You&#x2019;ll divide the transition explicitly into separate components to make it easier to track. The order in which you specify the properties must be the same each time for this effect to work.</Para><Para>First, however, you will add <Emphasis FontCategory="NonProportional">opacity</Emphasis> to the various states (Listing 3<Emphasis Type="Bold">-</Emphasis>38).</Para><Para><Emphasis Type="BoldItalic">Listing 3-38.</Emphasis>&#x2002;<Emphasis Type="Italic">Improved CSS Code for a Clapperboard Caption</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure.clapperboard figcaption {</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">opacity: 0;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">...</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure.clapperboard:hover figcaption {</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">opacity: 1;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">...</Emphasis></Para><Para>Right now this makes no difference at all, as the caption is invisible in its default state due to <Emphasis FontCategory="NonProportional">overflow: hidden</Emphasis> on the <Emphasis FontCategory="NonProportional">figure</Emphasis> element. But it will make a difference later, as you will soon see.</Para><Para>Next, you will break down the various animation components (Listing 3<Emphasis Type="Bold">-</Emphasis>39).</Para><Para><Emphasis Type="BoldItalic">Listing 3-39.</Emphasis>&#x2002;<Emphasis Type="Italic">CSS Code for a Clapperboard Caption</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure.clapperboard:hover figcaption { transform: rotate(0); opacity: 1;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transition-property:         opacity,    transform,                              background;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transition-timing-function:     ease,         cubic-bezier(.12,.49,.17,.87), linear;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transition-duration:                 0s,           .9</Emphasis><Emphasis FontCategory="NonProportional">s,                      1s;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transition-delay:                      0s,            0</Emphasis><Emphasis FontCategory="NonProportional">s,                    1s;</Emphasis></Para><Para Type="Programcode"> <Emphasis FontCategory="NonProportional">}</Emphasis></Para><Para>It helps to read the transition changes as columns, which is why I have added the unnecessary spaces in the code. In this case, <Emphasis FontCategory="NonProportional">opacity</Emphasis> has no timing function, no duration, and no delay (meaning it takes effect instantly), whereas the <Emphasis FontCategory="NonProportional">background</Emphasis> has a linear timing function, lasts for one second and has a delay of one second (meaning that it comes into effect after the text has rotated into place).</Para><Para>Now to the default state of the <Emphasis FontCategory="NonProportional">figcaption</Emphasis> (Listing 3<Emphasis Type="Bold">-</Emphasis>40).</Para><Para><Emphasis Type="BoldItalic">Listing 3-40.</Emphasis>&#x2002;<Emphasis Type="Italic">CSS Code for a Clapperboard Caption</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure.clapperboard figcaption {</Emphasis></Para> <Para Type="Programcode"><Emphasis FontCategory="NonProportional">opacity: 0;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">transition-property:                 opacity,   transform,               background;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">transition-timing-function;     linear,      ease,                        linear;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">transition-duration:                 2s,           9999999</Emphasis><Emphasis FontCategory="NonProportional">s,                0s;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">transition-delay:                      0s,           0</Emphasis><Emphasis FontCategory="NonProportional">s,                    0s;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">...</Emphasis></Para><Para>These effects take place during the transition <Emphasis Type="Italic">back</Emphasis> to the default state, setting the opacity of the <Emphasis FontCategory="NonProportional">figcaption</Emphasis> back to 0 over two seconds. You might wonder why the rotation back is set to last just under 10 million seconds. The ridiculously high number is in place so that the transform back to the default orientation for the <Emphasis FontCategory="NonProportional">figcaption</Emphasis> (i.e., standing on its side) effectively has an infinite duration. Visually, that means that no rotation of the text takes place at all when the user moves their mouse away from the image: the caption simply stays still and fades out.</Para></Section2></Section1><Section1 ID="Sec18"><Heading>Background Image Transitions<IndexTerm><Primary><Emphasis Type="Bold">Background image transitions</Emphasis></Primary></IndexTerm> and Animation on Page Load<IndexTerm><Primary><Emphasis Type="Bold">Animation on page load</Emphasis></Primary></IndexTerm></Heading><Para>To illustrate transitions on page load, you&#x2019;ll make an online travel guide page for New Zealand (see Figure <InternalRef RefID="Fig11">3<Emphasis Type="Bold">-</Emphasis>11</InternalRef>).<Figure ID="Fig11" Float="Yes" Category="Standard"><Caption Language="En"><CaptionNumber>Figure 3-11</CaptionNumber>.&#x2002;<CaptionContent><SimplePara>Transitioned background images</SimplePara></CaptionContent></Caption><MediaObject ID="MO11"><ImageObject FileRef="9781430247227_Fig03-11.gif" Format="GIF" Color="BlackWhite" Type="Linedraw" Rendition="HTML"/></MediaObject></Figure></Para><Para>When the page loads, you want several pictures to slide from one side of the page to the other. For this example, I&#x2019;ll use photographs by Chee Hong (<ExternalRef><RefSource>www.flickr.com/photos/chleong/6867222762/</RefSource><RefTarget TargetType="URL" Address="http://www.flickr.com/photos/chleong/6867222762/"/></ExternalRef>), Andreas Beeker (<ExternalRef><RefSource>www.flickr.com/photos/kiwiwings/2148854337/sizes/l/in/photostream/</RefSource><RefTarget TargetType="URL" Address="http://www.flickr.com/photos/kiwiwings/2148854337/sizes/l/in/photostream/"/></ExternalRef>), Gordon Wrigley (<ExternalRef><RefSource>www.flickr.com/photos/tolomea/4498923741/sizes/l/in/photostream/</RefSource><RefTarget TargetType="URL" Address="http://www.flickr.com/photos/tolomea/4498923741/sizes/l/in/photostream/"/></ExternalRef>), and David Pursehouse (<ExternalRef><RefSource>www.flickr.com/photos/mdid/2235443912/sizes/l/in/photostream/</RefSource><RefTarget TargetType="URL" Address="http://www.flickr.com/photos/mdid/2235443912/sizes/l/in/photostream/"/></ExternalRef>).</Para><Para>First, you&#x2019;ll set up your basic page, the markup for which will remain unchanged throughout this exercise (see Listing 3<Emphasis Type="Bold">-</Emphasis>41). Note that the images are offset off the left side of the page by their width (1300 pixels) plus an incremental amount, staggering them horizontally).</Para><Para><Emphasis Type="BoldItalic">Listing 3-41.</Emphasis>&#x2002;<Emphasis Type="Italic">HTML and CSS Code for a Background Transition on Page Load</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;div id=</Emphasis><Emphasis FontCategory="NonProportional">wrapper&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;h1&#x003E;</Emphasis> &#x2009;<Emphasis FontCategory="NonProportional">New Zealand&#x003C;/h1&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;p&#x003E;</Emphasis> &#x2009;<Emphasis FontCategory="NonProportional">Lorem ipsum dolor sit amet....</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;/div&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">body { font-family: Futura; margin: 0; line-height: 200%;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">background:</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">url(lake-benmore-new-zealand-panorama.jpg) -1300px 200px no-repeat,</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">url(lake-tekapo-new-zealand-panorama.jpg) -2000px 600px no-repeat,</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">url(new-zealand-panorama.jpg) -3900px 1000px no-repeat,</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">url(lindis-pass-new-zealand-panorama.jpg) -1300px 1300px no-repeat;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">}</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div#wrapper { width: 600px; margin: 5em auto; padding: 3em; }</Emphasis></Para><Para>Unfortunately there is as yet no <Emphasis FontCategory="NonProportional">background-opacity</Emphasis> property in CSS; you must either fade out the images in PhotoShop before saving them, or do something else to retain the legibility of the text as the images pass underneath it. To start, add a partially transparent <Emphasis FontCategory="NonProportional">background-color</Emphasis> to the <Emphasis FontCategory="NonProportional">div</Emphasis> by applying <Emphasis FontCategory="NonProportional">background: rgba(255, 255, 255, 0.8);</Emphasis>.</Para><Section2 ID="Sec19"><Heading>Animating the Background Images on Load<IndexTerm><Primary><Emphasis Type="Bold">Animation on page load</Emphasis></Primary><Secondary><Emphasis Type="Bold">background</Emphasis></Secondary></IndexTerm></Heading><Para>It&#x2019;s easiest to start an animation like this with CSS3 Keyframes (discussed in Chapter 5), but it is possible to achieve a similar effect using transitions only, by placing a pseudo-class on the body. To demonstrate this concept, you&#x2019;ll add a new declaration to your CSS (Listing 3<Emphasis Type="Bold">-</Emphasis>42).</Para><Para><Emphasis Type="BoldItalic">Listing 3-42.</Emphasis>&#x2002;<Emphasis Type="Italic">CSS Code for a Background Transition on Page Load</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">body:hover {</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">background:</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">url(lake-benmore-new-zealand-panorama.jpg) calc(100%</Emphasis>+<Emphasis FontCategory="NonProportional">1300px) 200px no-repeat,</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">url(lake-tekapo-new-zealand-panorama.jpg) 2400px 600px no-repeat,</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">url(new-zealand-panorama.jpg) 2400px 1000px no-repeat,</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">url(lindis-pass-new-zealand-panorama.jpg) 2400px 1300px no-repeat;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transition: 70s all linear;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">}</Emphasis></Para><Para>This sets the images off the screen to the far right, assuming that the browser window is less than 2400 pixels wide. (A reasonable assumption to make now, but dangerous long-term: a better solution will be to use CSS3 variables or <Emphasis>calc</Emphasis> once they are fully supported.)</Para><Para>There are three disadvantages to this approach: the first and most serious is that the moment the user&#x2019;s mouse moves outside the browser window, the images will reset to their default position off the screen to the left. You could ease this problem slightly by moving the transition code to the <Emphasis Type="Italic">default</Emphasis> body state, so that the transition will begin to reverse when the user&#x2019;s mouse moved away.</Para><Para>The second issue is that all of the background images must be animated together as a group; there&#x2019;s no way of transitioning images separately using this method.</Para><FormalPara Type="Overview" RenderingStyle="Style1"><Heading></Heading><Para>While not technically necessary in this context, I used <Emphasis FontCategory="NonProportional">calc</Emphasis> in the declaration shown in Listing 3-42 as a means of demonstrating an exciting new property. <Emphasis FontCategory="NonProportional">calc</Emphasis> comes achingly close to the idea of CSS3 Variables (another new CSS3 module), allowing us to specify any length value as an arithmetic expression. In the case of Listing 3-42, the calculation simply adds the width of the current element to its parent (the <Emphasis FontCategory="NonProportional">body</Emphasis>) so that the image is assured to be offscreen when the page loads.</Para><Para>You can read more about <Emphasis FontCategory="NonProportional">calc</Emphasis> at <ExternalRef><RefSource>https://hacks.mozilla.org/2010/06/css3-calc/</RefSource><RefTarget TargetType="URL" Address="https://hacks.mozilla.org/2010/06/css3-calc/"/></ExternalRef>.</Para></FormalPara><Para>The last issue, not so serious, is that the background images fade suddenly when they move behind the <Emphasis FontCategory="NonProportional">div</Emphasis>. There are two obvious solutions to this problem:<UnorderedList Mark="Bullet"><ItemContent><Para>Blur the left and right edges of the <Emphasis FontCategory="NonProportional">div</Emphasis> by using a double <Emphasis FontCategory="NonProportional">box-shadow</Emphasis> in the same color as the <Emphasis FontCategory="NonProportional">background</Emphasis> of the <Emphasis FontCategory="NonProportional">div</Emphasis> and a high amount of blur, as shown in Listing 3<Emphasis Type="Bold">-</Emphasis>43.</Para></ItemContent></UnorderedList></Para><Para><Emphasis Type="BoldItalic">Listing 3-43.</Emphasis>&#x2002;<Emphasis Type="Italic">CSS Code to Blur the Transition of Background Images</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div#wrapper { width: 600px; margin: 5em auto;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">padding: 3em;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">background: rgba(255, 255, 255, 0.8);</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">box-shadow: 100px 0 100px  rgba(255, 255, 255, 0.8),</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">-100px 0 100px  rgba(255, 255, 255, 0.8);</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">}</Emphasis><UnorderedList Mark="Bullet"><ItemContent><Para>Expand the <Emphasis FontCategory="NonProportional">div</Emphasis> to cover the entire body so that everything behind it will be faded out. Set the opening declaration as shown in Listing 3<Emphasis Type="Bold">-</Emphasis>44.</Para></ItemContent></UnorderedList></Para><Para><Emphasis Type="BoldItalic">Listing 3-44.</Emphasis>&#x2002;<Emphasis Type="Italic">CSS Code to Enforce Opacity of Background Images Across a Page</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">html, body { min-height: 100%; margin: 0; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">html, body { height: 100%; margin: 0; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div#wrapper { width: 100%; min-height: 100</Emphasis> &#x2009;<Emphasis FontCategory="NonProportional">%;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">padding: 3em;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">box-sizing: border-box; background: rgba(255, 255, 255, 0.8);</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">}</Emphasis></Para></Section2><Section2 ID="Sec20"><Heading>Creating and Animating Fake Background Images<IndexTerm><Primary><Emphasis Type="Bold">Animation on page load</Emphasis></Primary><Secondary> <Emphasis Type="Bold">fake background image</Emphasis></Secondary></IndexTerm></Heading><Para>If you desire a greater degree of control over background images, you have to fake them by exploiting the <Emphasis FontCategory="NonProportional">position</Emphasis> and <Emphasis FontCategory="NonProportional">z-index</Emphasis> CSS properties to force images into the background. There are two primary methods for doing so. The first of these is to create real images and force them into the background.</Para><Para>Rather than drawing the background images via CSS, this technique places them as images in the code, above, below, or even inside the <Emphasis FontCategory="NonProportional">div</Emphasis> (Listing 3<Emphasis Type="Bold">-</Emphasis>45).</Para><Para><Emphasis Type="BoldItalic">Listing 3-45.</Emphasis>&#x2002;<Emphasis Type="Italic">HTML and CSS Code to Create Fake Background Images for a Page</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;img src=</Emphasis><Emphasis FontCategory="NonProportional">lake-benmore-new-zealand-panorama.jpg alt=</Emphasis><Emphasis FontCategory="NonProportional">&quot;Lake Benmore, New Zealand&quot; id=</Emphasis><Emphasis FontCategory="NonProportional">benmore&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;img src=</Emphasis><Emphasis FontCategory="NonProportional">lake-tekapo-new-zealand-panorama.jpg alt=</Emphasis><Emphasis FontCategory="NonProportional">&quot;Lake Tekapo, New Zealand&quot; id=</Emphasis><Emphasis FontCategory="NonProportional">tekapo&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;img src=</Emphasis><Emphasis FontCategory="NonProportional">lindis-pass-new-zealand-panorama.jpg alt=</Emphasis><Emphasis FontCategory="NonProportional">&quot;Lindis Pass, New Zealand&quot; id=</Emphasis><Emphasis FontCategory="NonProportional">lindis&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">#benmore, #tekapo, #lindis { position: absolute; z-index: -1; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">#benmore { top: 300px; left: 200px; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">#tekapo { top: 600px; left: 800px; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">#benmore, #tekapo, #lindis {</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">position: absolute; z-index: -1; opacity: 0; transition: 4s linear all 2</Emphasis> &#x2009;<Emphasis FontCategory="NonProportional">s; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">#lindis { top: 900px; left: 50px; }</Emphasis></Para><Para>As separate images, these elements can be animated individually, across all properties. Providing the elements with a negative <Emphasis FontCategory="NonProportional">z-index</Emphasis> pushes them into the deep background. They are animated in Listing 3<Emphasis Type="Bold">-</Emphasis>46 in much the same way as they were in the earlier exercise.</Para><Para><Emphasis Type="BoldItalic">Listing 3-46.</Emphasis>&#x2002;<Emphasis Type="Italic">Animated Fake Background Images</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">body:hover img#benmore, body:hover img#tekapo, body:hover img#lindis { opacity: 0.6;  }</Emphasis></Para><Para>Again, you&#x2019;d typically use keyframe animation if you wanted the sequence to loop regardless of user activity.</Para><Para>Alternatively, you could create the same effect by using generated content. This has the advantage of requiring no extra markup, but imposes a limit of two added elements (one generated by using <Emphasis FontCategory="NonProportional">:before</Emphasis>, one by using <Emphasis FontCategory="NonProportional">:after</Emphasis>). As demonstrated earlier, these elements also can also be transformed, given <Emphasis FontCategory="NonProportional">z-index</Emphasis> and <Emphasis FontCategory="NonProportional">opacity</Emphasis>.</Para></Section2></Section1><Section1 ID="Sec21"><Heading>Summary</Heading><Para>In this chapter you&#x2019;ve learned how to cross-fade two images using CSS3 transitions with opacity and CSS4 cross-fade. You also created a simple image gallery&#x2014;useful in many site contexts&#x2014;and progressively enhanced the gallery with transitions. I&#x2019;ve shown you how to initiate those transitions using several different pseudo-selectors (<Emphasis FontCategory="NonProportional">:target</Emphasis>, <Emphasis FontCategory="NonProportional">:active</Emphasis>, and <Emphasis FontCategory="NonProportional">:hover),</Emphasis> each of which will be appropriate to certain presentations.</Para><Para>You&#x2019;ve animated the captions for images and, within this context, displaced the axis of transformation to create &#x201C;offset&#x201D; rotations.</Para><Para>The Transitions module has several means of delaying sequences to create layered animation effects, from the straightforward (<Emphasis FontCategory="NonProportional">transition-delay</Emphasis>) to hacks such as providing extremely high time values to hold transitioned elements in place effectively for eternity. You use these same techniques to create different in-and-out effects in transitioning elements, which normally simply reverse in the same animation order they came in.</Para><Para>Finally, you&#x2019;ve pushed transitions into areas that most developers barely tread: the animation of generated content and moving background images on page load.</Para><Para>In the next chapter, I&#x2019;ll show you how to apply CSS3 transitions to website navigation and other user interface features.</Para></Section1></Body><BodyRef FileRef="9781430247227_03_OnlinePDF.pdf" TargetType="OnlinePDF"/></Chapter>