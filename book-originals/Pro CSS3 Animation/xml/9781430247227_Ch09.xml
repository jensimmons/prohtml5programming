<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE Chapter PUBLIC "-//Springer-Verlag//DTD A++ V2.4//EN" "http://devel.springer.de/A++/V2.4/DTD/A++V2.4.dtd"> <Chapter  Language="En" OutputMedium="All" ID="b9781430247227_9"><ChapterInfo Language="En" ChapterType="OriginalPaper" NumberingStyle="ChapterOnly" TocLevels="0" ContainsESM="No" OutputMedium="All"><ChapterID>9</ChapterID><ChapterNumber>Chapter 9</ChapterNumber><ChapterDOI>10.1007/9781430247227_9</ChapterDOI><ChapterSequenceNumber>0</ChapterSequenceNumber><ChapterTitle Language="En">CSS3 3D Transforms, Transitions, and Animations <IndexTerm><Primary><Emphasis Type="Bold">CSS3 Animations and Transitions</Emphasis></Primary><Secondary><Emphasis Type="Bold">3D Transforms</Emphasis></Secondary></IndexTerm></ChapterTitle><ChapterFirstPage>135</ChapterFirstPage><ChapterLastPage>154</ChapterLastPage><ChapterCopyright><CopyrightHolderName>Springer-Verlag</CopyrightHolderName><CopyrightYear><?InsertOnReleaseOF CopyrightYear?></CopyrightYear></ChapterCopyright><ChapterHistory><OnlineDate><Year><?InsertOnReleaseOF OFYear?></Year><Month><?InsertOnReleaseOF OFMonth?></Month><Day><?InsertOnReleaseOF OFDay?></Day></OnlineDate></ChapterHistory></ChapterInfo><ChapterHeader><Abstract ID="Abs1" Language="En" OutputMedium="Online"><Heading>Abstract</Heading><Para>So far you&#x2019;ve manipulated images, UI elements, and other web content in the flat planar space of the viewport. But using the <Emphasis FontCategory="NonProportional">scale</Emphasis> transform doesn&#x2019;t necessarily imply that an element is further away from the viewer, only that it is larger or smaller; using standard CSS fails to impart a true sense of perspective or depth.</Para></Abstract></ChapterHeader><Body><Para>So far you&#x2019;ve manipulated images, UI elements, and other web content in the flat planar space of the viewport. But using the <Emphasis FontCategory="NonProportional">scale</Emphasis> transform doesn&#x2019;t necessarily imply that an element is further away from the viewer, only that it is larger or smaller; using standard CSS fails to impart a true sense of perspective or depth.</Para><Para>The 3D properties of the CSS Transforms module change all that. 3D Transforms allow you to manipulate content in a projected 3D space. Those 3D-projected elements can then be animated using the transition or keyframe syntax you&#x2019;ve explored in previous chapters.</Para><Para>3D Transforms are one aspect of CSS3 that tend <Emphasis Type="Italic">not</Emphasis> to degrade well in the browser: if the 3D transform declarations are not understood by the client, elements will usually appear stacked on top of each other. You should carefully consider this before rendering elements in older browsers</Para><Para>Although they can be used as such, CSS 3D Tranforms are not intended to make entire web sites a &#x201C;3D environment&#x201D; in which the browser window spins between one page and another. Rather, the new properties are typically used much as the rest of CSS is used: to make presentational choices for some elements on a web page. Creating and interacting with entire &#x201C;worlds&#x201D; of 3D content is best left to the context of the <Emphasis FontCategory="NonProportional">canvas</Emphasis> element, through technologies such as WebGL.</Para><Para>Due to their heavier computational demands, 3D transforms are pipelined directly to the client&#x2019;s GPU, providing a high frame rate during animation.</Para><Section1 ID="Sec1"><Heading>Perspective<IndexTerm><Primary>CSS3 Animations and Transitions</Primary><Secondary>3D Transforms</Secondary><Tertiary>perspective</Tertiary></IndexTerm></Heading><Para>The key to transforming HTML elements in 3D space is <Emphasis FontCategory="NonProportional">perspective</Emphasis>, which can be specified as a CSS property:</Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">#ngc-1763 { perspective: 600px; }</Emphasis> &#x2009;</Para><Para>It can also be specified as a value in <Emphasis FontCategory="NonProportional">transform</Emphasis>:</Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">#ngc-1763 { transform: perspective(600px); }</Emphasis> &#x2009;</Para><Para>Both methods are exactly equivalent and produce the same result. Naturally, both methods will require vendor prefixes to gain support in older browsers.</Para><Para>Note that you will not see any difference after applying <Emphasis FontCategory="NonProportional">perspective</Emphasis> alone. Setting <Emphasis FontCategory="NonProportional">perspective</Emphasis> is a necessary precursor to 3D manipulation, but does not change an element&#x2019;s appearance in and of itself.</Para><Para><Emphasis FontCategory="NonProportional">perspective</Emphasis> can take any positive CSS length value and defines the <Emphasis Type="Italic">distance from the viewpoint to the 3D element</Emphasis>. This may be the most difficult aspect of 3D transforms to understand, which is why this property deserves greater consideration than some others. The <Emphasis FontCategory="NonProportional">perspective</Emphasis> property is illustrated in Figure <InternalRef RefID="Fig1">9-1</InternalRef>. (The image shown here is from Per Ola Wiberg, at <ExternalRef><RefSource>www.flickr.com/photos/powi</RefSource><RefTarget TargetType="URL" Address="http://www.flickr.com/photos/powi"/></ExternalRef>, used by permission, as are all the photographs used in this chapter).<Figure ID="Fig1" Float="Yes" Category="Standard"><Caption Language="En"><CaptionNumber>Figure 9-1</CaptionNumber>.&#x2002;<CaptionContent><SimplePara>Cbanges to perspective in 3D transforms creates different visual results</SimplePara></CaptionContent></Caption><MediaObject ID="MO1"><ImageObject FileRef="9781430247227_Fig09-01.gif" Format="GIF" Color="BlackWhite" Type="Linedraw" Rendition="HTML"/></MediaObject></Figure></Para><Para>In the image on the left, the viewpoint is relatively close to the affected elements; the perspective gained by setting to 200px is similar to viewing the scene through a camera&#x2019;s macro lens. 3D changes are likely to appear dramatic and distorted.  In the image on the right, the viewpoint (set to 2000px) is distant from the affected  elements, rendering the content relatively &#x201C;flat&#x201D;, as if viewed through a telephoto lens. Visual transforms in 3D space are more likely to be subtle and understated.</Para><Para>While individual elements may have separate <Emphasis FontCategory="NonProportional">perspective</Emphasis> properties applied to them, doing so implies that each element has its own visual origin, and will be displayed unrelated to other elements in 3D space. Transformation of the elements means that each will show a different vanishing point while potentially taxing the browser more as it calculates the independent orientations of each element. Unless you are deliberately aiming for an <IndexTerm><Primary>CSS3 Animations and Transitions</Primary><Secondary>3D Transforms</Secondary><Tertiary><Emphasis Type="Italic">Inception-</Emphasis>like effect</Tertiary></IndexTerm><Emphasis Type="Italic">Inception-</Emphasis>like effect, it is recommended that you apply <Emphasis FontCategory="NonProportional">perspective</Emphasis> just once to a <Emphasis Type="Italic">parent</Emphasis> element that contains the content you wish to manipulate in 3D space. A containing <Emphasis FontCategory="NonProportional">div</Emphasis> or possibly the <Emphasis FontCategory="NonProportional">body</Emphasis> element itself can both work well. With the <Emphasis FontCategory="NonProportional">perspective</Emphasis> declaration in place on the right element, 3D transforms of its child elements will create a consistent visual appearance, as shown in the right-side image of Figure <InternalRef RefID="Fig2">9-2</InternalRef>.</Para><Para>Just as 2D transforms have a <Emphasis FontCategory="NonProportional">transform-origin</Emphasis>, 3D transforms have a <Emphasis FontCategory="NonProportional">perspective-origin</Emphasis> that defaults to the center of the element. While it is not wrong to place the <Emphasis FontCategory="NonProportional">perspective-origin</Emphasis> elsewhere (using any CSS length or appropriate keyword, horizontal followed by vertical location relative to the element), you should be aware that using high values when doing so can produce extreme visual distortion, such as isometric effects. An individual element with its own <Emphasis FontCategory="NonProportional">perspective</Emphasis> has its <Emphasis FontCategory="NonProportional">perspective-origin</Emphasis> &#x201C;buried&#x201D; inside itself, muting the effect of most 3D manipulations. Placing the <Emphasis FontCategory="NonProportional">perspective</Emphasis>&#x2014;and by association, the <Emphasis FontCategory="NonProportional">perspective-origin</Emphasis>&#x2014;in the parent element will usually provide better visual results.</Para><Para>Let&#x2019;s take a look at these effects visually. Both screenshots in Figure <InternalRef RefID="Fig2">9-2</InternalRef> share the same basic code shown in Listing 9-1.</Para><Para><Emphasis Type="BoldItalic">Listing 9-1.</Emphasis>&#x2002;<Emphasis Type="Italic">HTML and CSS Shared for a Simple 3D-Manipulated Image Gallery</Emphasis><IndexTerm><Primary>CSS3 Animations and Transitions</Primary><Secondary>3D Transforms</Secondary><Tertiary>image gallary</Tertiary></IndexTerm></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;style&#x003E;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">html { height: 100%;  }</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">body { min-height: 100%; background: #333;  margin: 60px; }</Emphasis></Para><Para Type="Programcode">   <Emphasis FontCategory="NonProportional">img {  width: 300px; height: 300px; margin: 30px; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;/style&#x003E;</Emphasis></Para><Para Type="Programcode"> &#x2009;</Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;body&#x003E;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">&#x003C;img src=waterlily.jpg alt=&quot;Gul N&#x00E4;ckros Waterlily&quot;&#x003E;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">&#x003C;img src=red-tulip.jpg alt=&quot;Red Tulip&quot;&#x003E;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">&#x003C;img src=dahlia.jpg alt=Dahlia&#x003E;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">&#x003C;img src=tulips.jpg alt=Tulips&#x003E;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">&#x003C;img src=tarda-tulip.jpg alt=&quot;Tarda Tulip&quot;&#x003E;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">&#x003C;img src=applebloom.jpg alt=&quot;Sweet applebloom&quot;&#x003E;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">&#x003C;img src=yellow-tulip.jpg alt=&quot;Yellow tulip&quot;&#x003E;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">&#x003C;img src=orchid.jpg alt=Orchid&#x003E;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">&#x003C;img src=poppy.jpg alt=&quot;Blue Himalyan poppy&quot;&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;/body&#x003E;</Emphasis></Para><Para>In Figure <InternalRef RefID="Fig2">9-2</InternalRef>, the left-hand screenshot has <Emphasis FontCategory="NonProportional">perspective</Emphasis> and <Emphasis FontCategory="NonProportional">perspective-origin</Emphasis> applied to the individual images, while the right-hand screenshot shows the same properties applied to the <Emphasis>body</Emphasis>. Both examples have the same rotation applied to the images.<Figure ID="Fig2" Float="Yes" Category="Standard"><Caption Language="En"><CaptionNumber>Figure 9-2</CaptionNumber>.&#x2002;<CaptionContent><SimplePara>Cbanges to perspective in 3D transforms creates different visual results</SimplePara></CaptionContent></Caption><MediaObject ID="MO2"><ImageObject FileRef="9781430247227_Fig09-02.gif" Format="GIF" Color="BlackWhite" Type="Linedraw" Rendition="HTML"/></MediaObject></Figure></Para><Para>In the image on the left, images are rotated <Emphasis Type="Italic">internally</Emphasis> unto themselves, showing no change in perspective.  On the left, images are rotated <Emphasis Type="Italic">relative to</Emphasis> the <Emphasis>body</Emphasis> perspective, transformed from a consistent vanishing point.</Para><Para>It&#x2019;s interesting to note that in the second example, the 3D effect is responsive: because the <Emphasis FontCategory="NonProportional">perspective-origin</Emphasis> is on the right side of the <Emphasis FontCategory="NonProportional">body</Emphasis>, adjusting the browser window changes the position of the origin and thus alters the vanishing point for all 3D elements. Widening and narrowing the browser will cause the image elements to rotate as they remain in alignment with the changing perspective origin.</Para><Para>When placing <Emphasis FontCategory="NonProportional">perspective-origin</Emphasis> be extra-aware of the default behaviors in CSS for elements: container elements with floated child elements having no height, for example, or the <Emphasis FontCategory="NonProportional">body</Emphasis> being the height of its content by default. These aspects can have significant influences when placing the origin and manipulating content in an implied 3D space.</Para><Para>To demonstrate this, take the HTML code in Listing 9-1, but substitute the CSS in Listing 9-2.</Para><Para><Emphasis Type="BoldItalic">Listing 9-2.&#x2002;</Emphasis><Emphasis Type="Italic">CSS Showing Unanticipated Limitations on 3D CSS Perspective</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">body { perspective: 1200px; perspective-origin: center center; margin: 2rem; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">img { width: 500px; height: 375px; float: left; margin-right: 2rem; margin-bottom: 2rem;  }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">img {  transform: rotateY(45deg); }</Emphasis></Para><Para>The CSS code sets the <Emphasis FontCategory="NonProportional">perspective-origin</Emphasis> for the <Emphasis FontCategory="NonProportional">body</Emphasis> element to its default value of <Emphasis FontCategory="NonProportional">center</Emphasis> for both the X and Y axes, but as you can see from Figure <InternalRef RefID="Fig3">9-3</InternalRef>, the effect on the images shows that the origin is not at the center of the document, but at the top.<Figure ID="Fig3" Float="Yes" Category="Standard"><Caption Language="En"><CaptionNumber>Figure 9-3</CaptionNumber>.&#x2002;<CaptionContent><SimplePara>Incorrect orientation of images due to misaligned perspective origin</SimplePara></CaptionContent></Caption><MediaObject ID="MO3"><ImageObject FileRef="9781430247227_Fig09-03.gif" Format="GIF" Color="BlackWhite" Type="Linedraw" Rendition="HTML"/></MediaObject></Figure></Para><Para>To get the perspective on the images correct, you must make the <Emphasis FontCategory="NonProportional">body</Emphasis> element at least as high as the content it contains. In this case, you&#x2019;ll use the standard <Emphasis FontCategory="NonProportional">min-height: 100%</Emphasis> on the html and <Emphasis FontCategory="NonProportional">height: 100%</Emphasis> on the body approach , which you can see in Listing 9-3. Once the CSS3 value is supported in browsers, you will be able to use <Emphasis FontCategory="NonProportional">min-height: contain-floats</Emphasis> on the body element alone.</Para><Para><Emphasis Type="BoldItalic">Listing 9-3.</Emphasis>&#x2002;<Emphasis Type="Italic">CSS 3D Perspective Corrected for Body Height</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">html { height: 100%; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">body { perspective: 1200px; perspective-origin: center center; margin: 2rem;</Emphasis> &#x2009;</Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">margin-top: 8rem; min-height: 100%; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">img { width: 500px; height: 375px; float: left; margin-right: 2rem; margin-bottom: 2rem;  }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">img { transform: rotateY(45deg); }</Emphasis></Para><Para Type="Programcode"> &#x2009;</Para><Para>The change to the CSS provides the correct transforms to the images, as you can see in Figure <InternalRef RefID="Fig4">9-4</InternalRef>.<Figure ID="Fig4" Float="Yes" Category="Standard"><Caption Language="En"><CaptionNumber>Figure 9-4</CaptionNumber>.&#x2002;<CaptionContent><SimplePara>Correct orientation of images with corrected body height</SimplePara></CaptionContent></Caption><MediaObject ID="MO4"><ImageObject FileRef="9781430247227_Fig09-04.gif" Format="GIF" Color="BlackWhite" Type="Linedraw" Rendition="HTML"/></MediaObject></Figure></Para><Para>As you can see, proper placement of both <Emphasis FontCategory="NonProportional">perspective</Emphasis> and <Emphasis FontCategory="NonProportional">perspective-origin,</Emphasis> both in the code and the Cartesian space of your web page, can make a significant difference to how your content is displayed.</Para></Section1><Section1 ID="Sec2"><Heading>Rotation<IndexTerm><Primary>CSS3 Animations and Transitions</Primary><Secondary>3D Transforms</Secondary><Tertiary>rotation</Tertiary></IndexTerm></Heading><Para>Now that you&#x2019;ve done a little rotation in 3D, you should take a moment to explore it completely. 2D Transforms has only one rotation; not surprisingly, 3D has three. What can be confusing is the orientation and effect of those three axes, shown in Figure <InternalRef RefID="Fig5">9-5</InternalRef>.<Figure ID="Fig5" Float="Yes" Category="Standard"><Caption Language="En"><CaptionNumber>Figure 9-5</CaptionNumber>.&#x2002;<CaptionContent><SimplePara>Options for rotation in 3D space</SimplePara></CaptionContent></Caption><MediaObject ID="MO5"><ImageObject FileRef="9781430247227_Fig09-05.gif" Format="GIF" Color="BlackWhite" Type="Linedraw" Rendition="HTML"/></MediaObject></Figure></Para><Para>As you can see, <Emphasis FontCategory="NonProportional">rotateX</Emphasis> is effectively the same as 2D CSS rotation, and moves <Emphasis Type="Italic">around</Emphasis> the axis like a windmill. <Emphasis FontCategory="NonProportional">rotateY</Emphasis> swings the element from side-to-side like a door, and <Emphasis FontCategory="NonProportional">rotateZ</Emphasis> moves around a horizontal axis, like a cat door. Naturally, the visual effect of these transformations will differ as the <Emphasis FontCategory="NonProportional">perspective-origin</Emphasis> is altered.</Para><Para>If the element is rotated around more than one axis at a time, it&#x2019;s usually more effective to use the <Emphasis FontCategory="NonProportional">rotate3d</Emphasis> shortcut:</Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">img  { transform: rotate3d( 0, 1, 0, 45deg); }</Emphasis></Para><Para>You can think of <Emphasis FontCategory="NonProportional">rotate3d</Emphasis> as a matrix multiplier for each of the axes (x, y, z): if any of the first three slots has any kind of numerical value, the element will be rotated by the last value around the appropriate axes. For example, the above declaration will rotate an image by 45 degrees around the y axis. You can combine multiple rotations by turning on bits for multiple axes:</Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">img  { transform: rotate3d( 1, 1, 0, .15turn); }</Emphasis></Para></Section1><Section1 ID="Sec3"><Heading>Translate<IndexTerm><Primary>CSS3 Animations and Transitions</Primary><Secondary>3D Transforms</Secondary><Tertiary>translate</Tertiary></IndexTerm></Heading><Para>3D transformed elements can also be moved along the X, Y, and Z axes. Note that doing so will move the element toward or further away from its vanishing point if the element is rotated around the X or Y axes or moved along the Z axis. For example, the code in Listing 9-4 can create the visual effect of an opening crawl for a movie with the credits disappearing into infinite space.</Para><Para><Emphasis Type="BoldItalic">Listing 9-4.</Emphasis>&#x2002;<Emphasis Type="Italic">Code, Content, and CSS for an Opening Credit Crawl</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;style&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">body { background: #000; perspective: 700px; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div#crawl { width: 80%; text-align: center; color: #fff;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">font-family: &#x0027;Franklin Gothic Medium&#x0027;, sans-serif;</Emphasis> &#x2009;</Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">font-size: 4rem; margin: 0 auto;</Emphasis> &#x2009;</Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">transform: rotateX(30deg) translateY(&#x2212;200px); }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;/style&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;body&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;div id=&quot;crawl&quot;&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;h1&#x003E;Blue Harvest&#x003C;/h1&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;p&#x003E;The waves of grain moved like the surface of the ocean under the light of the moon, stirred faintly by a susurrus of wind from the east. Caleb hoisted the worn wooden shaft of a scythe over his shoulder and peered out into the darkness, dirt-grimed thumbnail scratching under the brim of his straw hat, just above the sun-seared terminator of skin.&#x003C;/p&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;/div&#x003E;</Emphasis></Para><Para>Naturally, this could also easily be animated (Listing 9-5).</Para><Para><Emphasis Type="BoldItalic">Listing 9-5.</Emphasis>&#x2002;<Emphasis Type="Italic">CSS for an Animated Opening Credit Crawl</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">@keyframes crawl {</Emphasis> &#x2009;</Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">100% { transform: rotateX(40deg) translateY(&#x2212;2000px);  }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">}</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div#crawl { transform: rotateX(40deg) translateY(1000px); animation: crawl 30s linear; }</Emphasis></Para><Para>This creates the result you see in Figure <InternalRef RefID="Fig6">9-6</InternalRef>.<Figure ID="Fig6" Float="Yes" Category="Standard"><Caption Language="En"><CaptionNumber>Figure 9-6</CaptionNumber>.&#x2002;<CaptionContent><SimplePara>Still from an animated credit crawl created with CSS3</SimplePara></CaptionContent></Caption><MediaObject ID="MO6"><ImageObject FileRef="9781430247227_Fig09-06.gif" Format="GIF" Color="BlackWhite" Type="Linedraw" Rendition="HTML"/></MediaObject></Figure></Para><Para>You can also employ <Emphasis FontCategory="NonProportional">translate3d</Emphasis> in the same way the <Emphasis FontCategory="NonProportional">rotate3d</Emphasis> property was used previously.</Para><FormalPara Type="Important" RenderingStyle="Style1"><Heading>Note</Heading><Para>Visually there is little difference between <Emphasis FontCategory="NonProportional">translateZ</Emphasis> and <Emphasis FontCategory="NonProportional">scaleZ</Emphasis>: they both accomplish the same result, assuming no other tranforms are applied. Otherwise, <Emphasis FontCategory="NonProportional">scale</Emphasis> works in the same way as the other properties, including <Emphasis FontCategory="NonProportional">scale3d</Emphasis>.</Para></FormalPara></Section1><Section1 ID="Sec4"><Heading>Card Caption Flip<IndexTerm><Primary>CSS3 Animations and Transitions</Primary><Secondary>3D Transforms</Secondary><Tertiary>card caption flip</Tertiary></IndexTerm></Heading><Para>You can use a combination of these 3D transforms to create several veriations of image captions on the &#x201C;reverse&#x201D; side of gallery images, revealed with mouse hover (Figure <InternalRef RefID="Fig7">9-7</InternalRef>).<Figure ID="Fig7" Float="Yes" Category="Standard"><Caption Language="En"><CaptionNumber>Figure 9-7</CaptionNumber>.&#x2002;<CaptionContent><SimplePara>3D Flipped image caption gallery</SimplePara></CaptionContent></Caption><MediaObject ID="MO7"><ImageObject FileRef="9781430247227_Fig09-07.gif" Format="GIF" Color="BlackWhite" Type="Linedraw" Rendition="HTML"/></MediaObject></Figure></Para><Para>The first example you&#x2019;ll create will use transitions with images in a standard list. All images are exactly the same size, with captions coded as span elements after each one, as shown in Listing 9-6.</Para><Para><Emphasis Type="BoldItalic">Listing 9-6.&#x2002;</Emphasis><Emphasis Type="Italic">Code for a Simple 3D Gallery</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;ul id=gallery&#x003E;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">&#x003C;li&#x003E;&#x003C;img src=tulips.jpg alt=&quot;Tulips&quot;&#x003E;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">&#x003C;span&#x003E;Tulips&#x003C;/span&#x003E;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">&#x003C;li&#x003E;&#x003C;img src=hepatica-nobilis.jpg alt=Nepatica-nobilis&#x003E;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">&#x003C;span style=padding-left:4rem&#x003E;Nepatica nobilis&#x003C;/span&#x003E;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">&#x003C;li&#x003E;&#x003C;img src=ekebyhosparken.jpg alt=Ekebyhosparken&#x003E;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">&#x003C;span style=padding-left:4rem&#x003E;Ekebyhosparken&#x003C;/span&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;/ul&#x003E;</Emphasis></Para><Para>In this example, each image will flip horizontally on mouseover to show its back or reverse face, as if you were looking through a transparency of the image from the other side. After a pause, the <Emphasis FontCategory="NonProportional">span</Emphasis> content will fade in over the top of this reversed image (the inline padding is used simply to <Emphasis FontCategory="NonProportional">move</Emphasis> the text around inside the <Emphasis FontCategory="NonProportional">span</Emphasis> space). Moving the mouse off the image will reverse this sequence. (See Listing 9-7.)</Para><Para><Emphasis Type="BoldItalic">Listing 9-7.</Emphasis>&#x2002;<Emphasis Type="Italic">CSS for a Simple 3D Gallery</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">body { background: #fff; font-family: Avenir, Arial, sans-serif;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">font-size: 1.5rem; text-shadow: 3px 3px 2px rgba(0,0,0,0.6); }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">ul#gallery { margin-top: 400px; perspective: 1000px;  }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">ul#gallery li { display: inline-block; margin: 20px;  }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">ul#gallery li img { width: 320px; height: 244px;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">box-shadow: 0px 0px 16px rgba(0,0,0,0.3);</Emphasis> &#x2009;</Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transition: 1s all linear;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">}</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">ul#gallery li:hover img { transform: rotateY(180deg); }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">ul#gallery li span { position: absolute; width: 320px; height: 244px;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">margin-left: -320px; color: #fff; opacity: 0; background: rgba(0,0,0,0.8); display: inline-block;</Emphasis> &#x2009;</Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">box-sizing: border-box; padding-top: 6rem; padding-left: 8rem;  }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">ul#gallery li:hover span { opacity: 1; transition: 1s 1s opacity linear; }</Emphasis></Para><Para>The <Emphasis FontCategory="NonProportional">span</Emphasis> element uses the <Emphasis FontCategory="NonProportional">transition-duration</Emphasis> value to come in immediately after the spin has completed. Each spin is around the image&#x2019;s own center; if you wanted to introduce a little more variability, you could change the <Emphasis FontCategory="NonProportional">transition-origin</Emphasis> for each element.</Para><Para>As an experiment, leave the <Emphasis FontCategory="NonProportional">span</Emphasis> elements visible and untransitioned in your CSS; you&#x2019;ll see that the spinning images rotate <Emphasis Type="Italic">through</Emphasis> the caption text, an effect that you&#x2019;ll have the opportunity to use later. Rather like <Emphasis FontCategory="NonProportional">z-index</Emphasis>, untransformed content is assumed to exist at a &#x201C;base layer&#x201D; of presentation that 3D-projected content can slice through, depending on its position and perspective.</Para><Para>It&#x2019;s also worthwhile to note that the image&#x2019;s <Emphasis FontCategory="NonProportional">box-shadow</Emphasis> is <Emphasis Type="Italic">not</Emphasis> shown as being thrown on the white page of your body content; rather, the shadow rotates as part of the image, surrounding it. While it is possible in theory to manipulate a separate &#x201C;shadow&#x201D; <Emphasis FontCategory="NonProportional">div</Emphasis> to provide the impression that it is projected, this takes considerable extra effort.</Para><Para>As a whole, the gallery works well, but visitors seeing the &#x201C;other side&#x201D; of the image may be confused. (See Figure <InternalRef RefID="Fig8">9-8</InternalRef>.) Providing the impression that your  images are actual cards with a plain reverse side that holds a caption, with all of these elements moving together, requires a little more work.<Figure ID="Fig8" Float="Yes" Category="Standard"><Caption Language="En"><CaptionNumber>Figure 9-8</CaptionNumber>.&#x2002;<CaptionContent><SimplePara>3D flipped image caption gallery with solid reverse side</SimplePara></CaptionContent></Caption><MediaObject ID="MO8"><ImageObject FileRef="9781430247227_Fig09-08.gif" Format="GIF" Color="BlackWhite" Type="Linedraw" Rendition="HTML"/></MediaObject></Figure></Para><Para>First, you&#x2019;ll change the markup to provide a page variation with more semantic value, shown in Listing 9-8.</Para><Para><Emphasis Type="BoldItalic">Listing 9-8.</Emphasis>&#x2002;<Emphasis Type="Italic">Code for a More Complex 3D Gallery</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;figure&#x003E;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">&#x003C;figcaption&#x003E;Tulips&#x003C;/figcaption&#x003E;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">&#x003C;img src=tulips.jpg alt=Tulips&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;/figure&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;figure&#x003E;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">&#x003C;figcaption&#x003E;Nepatica nobilis&#x003C;/figcaption&#x003E;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">&#x003C;img src=hepatica-nobilis.jpg alt=&quot;Nepatica nobilis&quot;&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;/figure&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;figure&#x003E;</Emphasis></Para><Para Type="Programcode">       <Emphasis FontCategory="NonProportional">&#x003C;figcaption&#x003E;Ekebyhosparken&#x003C;/figcaption&#x003E;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">&#x003C;img src=ekebyhosparken.jpg alt=Ekebyhosparken&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;/figure&#x003E;</Emphasis></Para><Para>Note the source order: each image caption comes <Emphasis Type="Italic">before</Emphasis> the image it references. This is perfectly valid in HTML5, and will be useful for your CSS animation. You could place the captions after the images, but that would require changing the <Emphasis>z-index</Emphasis> value of the captions. The CSS code starts out in a manner similar to the last example (see Listing 9-9).</Para><Para><Emphasis Type="BoldItalic">Listing 9-9.</Emphasis>&#x2002;<Emphasis Type="Italic">Basic CSS Code for a More Complex 3D Gallery</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">body { background: hsl(100,0%,100%); font-family: Avenir, sans-serif; font-size: 1.5rem;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">margin-top: 400px; perspective: 1000px;     }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure { margin: 20px; transition: 1s all linear;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">box-shadow: 0px 0px 16px rgba(0,0,0,0.3); float: left; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure, figure img, figcaption { width: 320px; height: 244px; box-sizing: border-box; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure img, figcaption { position: absolute; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figcaption { background: #fff; text-align: center; padding-top: 6rem;   }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure:hover { transform: rotateY(180deg);  }</Emphasis> &#x2009;</Para><Para>The image-caption pairs are both exactly the same size, and positioned absolutely. Because the photographs come <Emphasis Type="Italic">after</Emphasis> the caption, they are displayed &#x201C;on top&#x201D; of the text. However, rotating each figure as a whole at this stage shows only the reverse side of the image, not the text.</Para></Section1><Section1 ID="Sec5"><Heading>Backface Visibility<IndexTerm><Primary>CSS3 Animations and Transitions</Primary><Secondary>3D Transforms</Secondary><Tertiary>backface-visibility</Tertiary></IndexTerm></Heading><Para>Rotating elements around Z and Y axes brings up an interesting question: what happens when you rotate an element more than 180 degrees? What&#x2019;s on the other side of an image that had, until this moment, an effective &#x201C;thickness&#x201D; of 0?</Para><Para>Appearance in this state is determined by the <Emphasis FontCategory="NonProportional">backface-visibility</Emphasis> property, which has a default value of <Emphasis FontCategory="NonProportional">visible</Emphasis>. This means that when an element flips past 180, what is shown on the other side is the <Emphasis Type="Italic">reverse</Emphasis> of what&#x2019;s seen in the element&#x2019;s original orientation: images effectively become transparencies, equally visible on both sides, and text is rendered mirror-imaged. Turning <Emphasis>backface-visibility</Emphasis> to <Emphasis FontCategory="NonProportional">hidden</Emphasis> causes the renderer to ignore the other side of the element when it rotates past 180 degrees; in most cases, this means less work for the renderer and, as a result, smoother, cleaner animations.</Para></Section1><Section1 ID="Sec6"><Heading>Transform Style<IndexTerm><Primary>CSS3 Animations and Transitions</Primary><Secondary>3D Transforms</Secondary><Tertiary>style</Tertiary></IndexTerm></Heading><Para>By default the browser will assume that children of a 3D transformed element take on the 3D transformations of their parent, but are projected onto the same plane: there is no &#x201C;before&#x201D; or &#x201C;behind&#x201D; sense for such child elements. Formally, this would be declared as <Emphasis FontCategory="NonProportional">transform-style: flat</Emphasis> applied to the parent element.</Para><Para>If you wish child elements of a 3D-manipulated element to move in the same 3D space as their parents but be projected onto their own plane, a value of <Emphasis FontCategory="NonProportional">preserve-3d</Emphasis> <Emphasis Type="Italic">must be applied to the parent element</Emphasis>. This allows you to place one child element behind the other, so that your card can have two visible &#x201C;sides.&#x201D;</Para><Para>In this case there is one more addition to make to the code&#x2014;together these properties will not, by themselves, be enough to provide the impression of a two-sided card. For the caption to be presented correctly on the other side of the image, it must be flipped horizontally <Emphasis Type="Italic">before</Emphasis> any animation takes place. (Think of two playing cards being placed back to back so that their faces are visible on either side).</Para><Para>Your code changes to what you can see in Listing 9-10.</Para><Para><Emphasis Type="BoldItalic">Listing 9-10.</Emphasis>&#x2002;<Emphasis Type="Italic">Complete CSS Code for a More Complex 3D Gallery</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">body { background: hsl(100,0%,100%); font-family: Avenir, sans-serif; font-size: 1.5rem;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">margin-top: 400px; perspective: 1000px;     }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure { margin: 20px; transition: 1s all linear;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">box-shadow: 0px 0px 16px rgba(0,0,0,0.3); float: left;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transform-style: preserve-3d; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure, figure img, figcaption { width: 320px; height: 244px; box-sizing: border-box; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure img, figcaption { position: absolute; backface-visibility: hidden; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figcaption { background: #fff; text-align: center; padding-top: 6rem;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transform: rotateY(180deg);  }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure:hover { transform: rotateY(180deg);  }</Emphasis></Para><Para>There&#x2019;s one more variation to consider: what if you want the other side of the photograph to be faintly visible through the caption? Turning off <Emphasis FontCategory="NonProportional">backface-visibility: hidden</Emphasis> will not be enough to create this effect by itself. You will need to position each element in 3D space with a little more precision (see Listing 9-11).</Para><Para><Emphasis Type="BoldItalic">Listing 9-11.</Emphasis>&#x2002;<Emphasis Type="Italic">Alternate Complete CSS Code for a More Complex 3D Gallery</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">body { background: hsl(100,0%,100%); font-family: Avenir, sans-serif; font-size: 1.5rem;</Emphasis> &#x2009;</Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">margin-top: 400px; perspective: 1000px;     }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure { margin: 20px; transition: 1s all linear;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transform-style: preserve-3d; box-shadow: 0px 0px 16px rgba(0,0,0,0.3); float: left; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure, figure img, figcaption { width: 320px; height: 244px; box-sizing: border-box;   }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure img, figcaption { position: absolute;  }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figcaption { background: #fff; text-align: center; padding-top: 6rem;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transform: rotateY(180deg) translateZ(1px); opacity: 0.9;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">}</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure:hover { transform: rotateY(180deg);  }</Emphasis></Para><Para Type="Programcode"> &#x2009;</Para><Para>The very slight translation of the caption along the z-axis is enough to place the caption &#x201C;behind&#x201D; the image in such a way that the reversed aspect of the photograph underneath it can be seen, as shown in Figure <InternalRef RefID="Fig9">9-9</InternalRef>.<Figure ID="Fig9" Float="Yes" Category="Standard"><Caption Language="En"><CaptionNumber>Figure 9-9</CaptionNumber>.&#x2002;<CaptionContent><SimplePara>3D flipped image caption gallery with partially transparent reverse side</SimplePara></CaptionContent></Caption><MediaObject ID="MO9"><ImageObject FileRef="9781430247227_Fig09-09.gif" Format="GIF" Color="BlackWhite" Type="Linedraw" Rendition="HTML"/></MediaObject></Figure></Para></Section1><Section1 ID="Sec7"><Heading>A Circular 3D Gallery<IndexTerm><Primary>3D Gallery</Primary></IndexTerm><IndexTerm><Primary>CSS3 Animations and Transitions</Primary><Secondary>3D Transforms</Secondary><Tertiary>3D gallery</Tertiary><SeeAlso><Emphasis Type="Italic">See</Emphasis> 3D gallery</SeeAlso></IndexTerm></Heading><Para>You can take all of the photographs used so far and transform them into a fully circular 3D gallery that rotates on hover (Figure <InternalRef RefID="Fig10">9-10</InternalRef>). The markup, shown in Listing 9-12, is very straightforward.<Figure ID="Fig10" Float="Yes" Category="Standard"><Caption Language="En"><CaptionNumber>Figure 9-10</CaptionNumber>.&#x2002;<CaptionContent><SimplePara>An animated circular 3D gallery</SimplePara></CaptionContent></Caption><MediaObject ID="MO10"><ImageObject FileRef="9781430247227_Fig09-10.gif" Format="GIF" Color="BlackWhite" Type="Linedraw" Rendition="HTML"/></MediaObject></Figure></Para><Para><Emphasis Type="BoldItalic">Listing 9-12.</Emphasis>&#x2002;<Emphasis Type="Italic">HTML Code for a Circular 3D Gallery</Emphasis><IndexTerm><Primary>3D Gallery</Primary><Secondary>circular</Secondary></IndexTerm></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;div&#x003E;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">&#x003C;figure&#x003E;</Emphasis> &#x2009;</Para><Para Type="Programcode">       <Emphasis FontCategory="NonProportional">&#x003C;img src=&quot;fa&#x0308;rentuna-church.jpeg&quot; alt=&quot;F&#x00E4;rentuna church in F&#x00E4;rings&#x00F6;, Sweden&quot;&#x003E;</Emphasis> &#x2009;</Para><Para Type="Programcode">       <Emphasis FontCategory="NonProportional">&#x003C;img src=&quot;winter-trees.jpeg&quot; alt=&quot;Trees in winter, Sweden&quot;&#x003E;</Emphasis></Para><Para Type="Programcode">       <Emphasis FontCategory="NonProportional">&#x003C;img src=&quot;view-from-rastaholm.jpeg&quot; alt=&quot;View From Rastaholm, Sweden&quot;&#x003E;</Emphasis></Para><Para Type="Programcode">       <Emphasis FontCategory="NonProportional">&#x003C;img src=&quot;fall-park.jpeg&quot; alt=&quot;Park in fall&quot;&#x003E; &#x003C;img src=&quot;sunset2.jpeg&quot; alt=&quot;Sunset&quot;&#x003E;</Emphasis></Para><Para Type="Programcode">       <Emphasis FontCategory="NonProportional">&#x003C;img src=&quot;tulips2.jpeg&quot; alt=&quot;Tulips&quot;&#x003E;</Emphasis></Para><Para Type="Programcode">       <Emphasis FontCategory="NonProportional">&#x003C;img src=&quot;hepatica-nobilis.jpg&quot; alt=&quot;Nepatica-nobilis&quot;&#x003E;</Emphasis></Para><Para Type="Programcode">       <Emphasis FontCategory="NonProportional">&#x003C;img src=&quot;sunset.jpg&quot; alt=&quot;Sunset&quot;&#x003E;</Emphasis></Para><Para Type="Programcode">       <Emphasis FontCategory="NonProportional">&#x003C;img src=&quot;ekebyhosparken.jpg&quot; alt=&quot;Ekebyhosparken&quot;&#x003E;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">&#x003C;/figure&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;/div&#x003E;</Emphasis></Para><Para>You&#x2019;re going to push these images into a 3D circle by positioning them absolutely, so that they all stack on top of each other, locating their common transform-origin-z &#x201C;back&#x201D; in 3D space and rotating each independently around the Y axis. As there are eight images, each will be rotated in increments of 45 degrees to create an evenly distributed circle of photographs (Listing 9-13).</Para><Para><Emphasis Type="BoldItalic">Listing 9-13.</Emphasis>&#x2002;<Emphasis Type="Italic">Basic CSS Code for a Circular 3D Gallery</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div { perspective: 1000px; margin-top: 400px; width: 1400px; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure { transform-style: preserve-3d; height: 244px; transform-origin-x: 660px; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">img { width: 320px; height: 244px; position: absolute; left: 500px; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure, img { transform-origin-z: -500px; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div img:nth-child(1) { transform: rotateY(0deg); }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div img:nth-child(2) { transform: rotateY(&#x2212;45deg); }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div img:nth-child(3) { transform: rotateY(&#x2212;90deg); }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div img:nth-child(4) { transform: rotateY(&#x2212;135deg); }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div img:nth-child(5) { transform: rotateY(&#x2212;180deg); }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div img:nth-child(6) { transform: rotateY(&#x2212;225deg); }</Emphasis> &#x2009;</Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div img:nth-child(7) { transform: rotateY(&#x2212;270deg); }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div img:nth-child(8) { transform: rotateY(&#x2212;315deg); }</Emphasis></Para><Para>Note that altering the <Emphasis FontCategory="NonProportional">height</Emphasis> of the <Emphasis FontCategory="NonProportional">figure</Emphasis> element changes the <Emphasis FontCategory="NonProportional">Y</Emphasis> coordinate of the gallery origin, pitching the circle of images up and down in 3D space. At half the complete height of the images within it, the circle of photographs appears to be at &#x201C;eye level&#x201D; with the viewer.</Para><Para>Also note that you could use JavaScript to automate the distribution of the images&#x2014;which you&#x2019;ll do in the next section.</Para><Para>There are two paths you could take to rotate the gallery on hover. One is to increase the <Emphasis FontCategory="NonProportional">rotateY</Emphasis> value of each individual image by the same amount: an overly complex approach without resorting to scripting. As you can see, you&#x2019;ve already set the images and the <Emphasis FontCategory="NonProportional">figure</Emphasis> that surrounds them to have the same <Emphasis FontCategory="NonProportional">z</Emphasis> origin, so your second option is to animate the figure itself (Listing 9-14).</Para><Para><Emphasis Type="BoldItalic">Listing 9-14.</Emphasis>&#x2002;<Emphasis Type="Italic">CSS Animation Code for a Circular 3D Gallery</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">@keyframes spin { 100% { transform: rotateY(360deg);  }  }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure:hover  { animation: spin 12s linear infinite;  }</Emphasis></Para><Para>While the 3D and animation effects work well, the gallery is lacking one other aspect of realism: in real life, distant objects are not just smaller, they are also dimmer. Hiding the backfaces of the images won&#x2019;t work: that will make the images disappear, not fade, and adding spans behind each image, per the solution for the first gallery, is too much extra markup. Neither does the blur filter work on the pixel values of 3d-transformed images, at least not as of this writing.</Para><Para>There are a few possible ways of achieving the effect: the fourth and sixth images that can be seen at the &#x201C;back&#x201D; of the gallery circle could be dynamically set with opacity and made solid as they come to the forefront. Alternatively, a box-shadow applied equally to all sides of each image with no blur could be applied (Listing 9-15).</Para><Para><Emphasis Type="BoldItalic">Listing 9-15.</Emphasis>&#x2002;<Emphasis Type="Italic">CSS Shading Effect for a Circular 3D Gallery</Emphasis><IndexTerm><Primary>3D Gallery</Primary><Secondary>shading effect</Secondary></IndexTerm></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">img { box-shadow: 0px 0px 0px 48px rgba(0,0,0,0.8); }</Emphasis></Para><Para>The limitation of this approach is that the <Emphasis FontCategory="NonProportional">background-color</Emphasis> of the <Emphasis FontCategory="NonProportional">figure</Emphasis> containing <Emphasis FontCategory="NonProportional">div</Emphasis> or the <Emphasis FontCategory="NonProportional">body</Emphasis> itself must be solid black; anything lighter will show the edges of the shadows. (See Figure <InternalRef RefID="Fig11">9-11</InternalRef>).<Figure ID="Fig11" Float="Yes" Category="Standard"><Caption Language="En"><CaptionNumber>Figure 9-11</CaptionNumber>.&#x2002;<CaptionContent><SimplePara>A Circular 3D Gallery with Shading Effects</SimplePara></CaptionContent></Caption><MediaObject ID="MO11"><ImageObject FileRef="9781430247227_Fig09-11.gif" Format="GIF" Color="BlackWhite" Type="Linedraw" Rendition="HTML"/></MediaObject></Figure></Para><Para>As each image remains effectively independent as its own element, you could combine the caption techniques explored in Chapter 3 with the photographs in the circular gallery, albeit with some changes to the markup (see Listing 9-16).</Para><Para><Emphasis Type="BoldItalic">Listing 9-16.</Emphasis>&#x2002;<Emphasis Type="Italic">Code for a Circular 3D Image Gallery with Popup Captions</Emphasis><IndexTerm><Primary>3D Gallery</Primary><Secondary>popup caption</Secondary></IndexTerm></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;style&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">@keyframes spin {</Emphasis> &#x2009;</Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">100% { transform: rotateY(360deg); }</Emphasis> &#x2009;</Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">}</Emphasis> &#x2009;</Para><Para Type="Programcode"> &#x2009;</Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">body {  background: black; font-family: Georgia, serif; font-style: italic; font-size: 1.2rem; }</Emphasis> &#x2009;</Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div#gallery { perspective: 1000px; margin-top: 400px; width: 1400px; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div#inner{ transform-style: preserve-3d;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transform-origin-x: 660px; transform-origin-z: -500px; height: 244px; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure, img { width: 320px; height: 244px; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure { left: 500px; position: absolute;  overflow: hidden; transform-origin-z: -500px; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figcaption { background: hsla(0,0%,0%,0.5); color: #fff; position: relative; top: 0; padding: 8px;</Emphasis> &#x2009;</Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transition: 0.6s top linear; }</Emphasis> &#x2009;</Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure:hover figcaption { top: -38px; }</Emphasis></Para><Para Type="Programcode"> &#x2009;</Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div#gallery:hover div#inner { animation: spin 24s linear infinite; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div#gallery figure:nth-child(1) { transform: rotateY(0deg); }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div#gallery figure:nth-child(2) { transform: rotateY(&#x2212;45deg);  }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div#gallery figure:nth-child(3) { transform: rotateY(&#x2212;90deg); }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div#gallery figure:nth-child(4) { transform: rotateY(&#x2212;135deg); }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div#gallery figure:nth-child(5) { transform: rotateY(&#x2212;180deg); }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div#gallery figure:nth-child(6) { transform: rotateY(&#x2212;225deg); }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div#gallery figure:nth-child(7) { transform: rotateY(&#x2212;270deg); }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">div#gallery figure:nth-child(8) { transform: rotateY(&#x2212;315deg); }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;/style&#x003E;</Emphasis></Para><Para Type="Programcode"> &#x2009;</Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;body&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;div id=&quot;gallery&quot;&#x003E;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">&#x003C;div id=&quot;inner&quot;&#x003E;</Emphasis> &#x2009;</Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">&#x003C;figure&#x003E;</Emphasis></Para><Para Type="Programcode">        <Emphasis FontCategory="NonProportional">&#x003C;img src=&quot;f&#x00E4;rentuna-church.jpeg&quot; alt=&quot;F&#x00E4;rentuna church in F&#x00E4;rings&#x00F6;, Sweden&quot;&#x003E;</Emphasis></Para><Para Type="Programcode">        <Emphasis FontCategory="NonProportional">&#x003C;figcaption&#x003E;F&#x00E4;rentuna Church, F&#x00E4;rings&#x00F6;, Sweden&#x003C;/figcaption&#x003E;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">&#x003C;/figure&#x003E;</Emphasis> &#x2009;</Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">&#x003C;figure&#x003E;</Emphasis> &#x2009;</Para><Para Type="Programcode">         <Emphasis FontCategory="NonProportional">&#x003C;img src=&quot;winter-trees.jpeg&quot; alt=&quot;Trees in winter, Sweden&quot;&#x003E;</Emphasis></Para><Para Type="Programcode">         <Emphasis FontCategory="NonProportional">&#x003C;figcaption&#x003E;Trees in winter, Sweden&#x003C;/figcaption&#x003E;</Emphasis></Para><Para Type="Programcode">     <Emphasis FontCategory="NonProportional">&#x003C;/figure&#x003E;</Emphasis></Para><Para Type="Programcode">     <Emphasis FontCategory="NonProportional">&#x003C;figure&#x003E;</Emphasis></Para><Para Type="Programcode">          <Emphasis FontCategory="NonProportional">&#x003C;img src=&quot;view-from-rastaholm.jpeg&quot; alt=&quot;View From Rastaholm, Sweden&quot;&#x003E;</Emphasis></Para><Para Type="Programcode">         <Emphasis FontCategory="NonProportional">&#x003C;figcaption&#x003E;View From Rastaholm, Sweden&#x003C;/figcaption&#x003E;</Emphasis></Para><Para Type="Programcode">     <Emphasis FontCategory="NonProportional">&#x003C;/figure&#x003E;</Emphasis></Para><Para Type="Programcode">     <Emphasis FontCategory="NonProportional">&#x003C;figure&#x003E;</Emphasis></Para><Para Type="Programcode">          <Emphasis FontCategory="NonProportional">&#x003C;img src=&quot;fall-park.jpeg&quot; alt=&quot;Park in fall&quot;&#x003E;</Emphasis></Para><Para Type="Programcode">          <Emphasis FontCategory="NonProportional">&#x003C;figcaption&#x003E;Swedish park in Fall&#x003C;/figcaption&#x003E;</Emphasis></Para><Para Type="Programcode">      <Emphasis FontCategory="NonProportional">&#x003C;/figure&#x003E;</Emphasis></Para><Para Type="Programcode">      <Emphasis FontCategory="NonProportional">&#x003C;figure&#x003E;</Emphasis></Para><Para Type="Programcode">          <Emphasis FontCategory="NonProportional">&#x003C;img src=&quot;sunset2.jpeg&quot; alt=&quot;Sunset&quot;&#x003E;</Emphasis></Para><Para Type="Programcode">          <Emphasis FontCategory="NonProportional">&#x003C;figcaption&#x003E;Sunset&#x003C;/figcaption&#x003E;</Emphasis></Para><Para Type="Programcode">       <Emphasis FontCategory="NonProportional">&#x003C;/figure&#x003E;</Emphasis></Para><Para Type="Programcode">        <Emphasis FontCategory="NonProportional">&#x003C;figure&#x003E;</Emphasis></Para><Para Type="Programcode">             <Emphasis FontCategory="NonProportional">&#x003C;img src=&quot;tulips2.jpeg&quot; alt=&quot;Tulips&quot;&#x003E;</Emphasis></Para><Para Type="Programcode">             <Emphasis FontCategory="NonProportional">&#x003C;figcaption&#x003E;Tulips&#x003C;/figcaption&#x003E;</Emphasis></Para><Para Type="Programcode">         <Emphasis FontCategory="NonProportional">&#x003C;/figure&#x003E;</Emphasis></Para><Para Type="Programcode">         <Emphasis FontCategory="NonProportional">&#x003C;figure&#x003E;</Emphasis></Para><Para Type="Programcode">               <Emphasis FontCategory="NonProportional">&#x003C;img src=&quot;hepatica-nobilis.jpg&quot; alt=&quot;Nepatica-nobilis&quot;&#x003E;</Emphasis></Para><Para Type="Programcode">               <Emphasis FontCategory="NonProportional">&#x003C;figcaption&#x003E;Nepatica nobilis&#x003C;/figcaption&#x003E;</Emphasis></Para><Para Type="Programcode">          <Emphasis FontCategory="NonProportional">&#x003C;/figure&#x003E;</Emphasis></Para><Para Type="Programcode">          <Emphasis FontCategory="NonProportional">&#x003C;figure&#x003E;</Emphasis></Para><Para Type="Programcode">               <Emphasis FontCategory="NonProportional">&#x003C;img src=&quot;sunset.jpg&quot; alt=&quot;Sunset&quot;&#x003E;</Emphasis></Para><Para Type="Programcode">               <Emphasis FontCategory="NonProportional">&#x003C;figcaption&#x003E;Sunset&#x003C;/figcaption&#x003E;</Emphasis></Para><Para Type="Programcode">          <Emphasis FontCategory="NonProportional">&#x003C;/figure&#x003E;</Emphasis></Para><Para Type="Programcode">          <Emphasis FontCategory="NonProportional">&#x003C;figure&#x003E;</Emphasis></Para><Para Type="Programcode">               <Emphasis FontCategory="NonProportional">&#x003C;img src=&quot;ekebyhosparken.jpg&quot; alt=&quot;Ekebyhosparken&quot;&#x003E;</Emphasis></Para><Para Type="Programcode">               <Emphasis FontCategory="NonProportional">&#x003C;figcaption&#x003E;Ekebyhosparken&#x003C;/figcaption&#x003E;</Emphasis></Para><Para Type="Programcode">          <Emphasis FontCategory="NonProportional">&#x003C;/figure&#x003E;</Emphasis></Para><Para Type="Programcode">      <Emphasis FontCategory="NonProportional">&#x003C;/div&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;/div&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;/body&#x003E;</Emphasis></Para><Para>You can see a still of the result in Figure <InternalRef RefID="Fig12">9-12</InternalRef>.<Figure ID="Fig12" Float="Yes" Category="Standard"><Caption Language="En"><CaptionNumber>Figure 9-12</CaptionNumber>.&#x2002;<CaptionContent><SimplePara>A circular 3D gallery with popup captions</SimplePara></CaptionContent></Caption><MediaObject ID="MO12"><ImageObject FileRef="9781430247227_Fig09-12.gif" Format="GIF" Color="BlackWhite" Type="Linedraw" Rendition="HTML"/></MediaObject></Figure></Para></Section1><Section1 ID="Sec8"><Heading>Enhancing the Gallery with Level-4 Selectors and JavaScript<IndexTerm><Primary>3D Gallery</Primary><Secondary>level-4 selectors</Secondary></IndexTerm><IndexTerm><Primary>CSS3 Animations and Transitions</Primary><Secondary>3D Transforms</Secondary><Tertiary>JavaScript</Tertiary></IndexTerm></Heading><Para>There are many ways to enhance the gallery you&#x2019;ve created with JavaScript. The obvious and primary way is to take care of the initial rotation of the images with scripting rather than doing so by hand. (For the sake of simplicity, I&#x2019;ll assume that you have returned to the basic markup of the gallery shown in Listing 9-17).</Para><Para><Emphasis Type="BoldItalic">Listing 9-17.</Emphasis>&#x2002;<Emphasis Type="Italic">JQuery Code to Automatically Distribute Images in a CSS3 Circular Gallery</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;script&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">var numberOfImgs = $(&quot;figure img&quot;).length;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">var degreeSep = 360 / (numberOfImgs - 1);</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">var angle = 0;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">for (i = 1; i &#x003C; numberOfImgs; i++) {</Emphasis> &#x2009;</Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">$(&quot;figure img:nth-child(&quot; + (i) + &quot;)&quot;).css(&#x0027;transform&#x0027;,&#x0027;rotateY(&#x0027;+ angle +&#x0027;deg)&#x0027;);</Emphasis> &#x2009;</Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">angle = angle + degreeSep;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">}</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;/script&#x003E;</Emphasis></Para><Para>This would eliminate eight repetitive lines of CSS and produce a far more flexible result: if images were added to or removed from within the figure, their distribution would be automatically adjusted. A more advanced version of the script might use basic trigonometry to determine that the size and number of the images and the origin-z distance were enough to provide acceptable spacing between photographs; if not, the image&#x2019;s width, height, and/or origin-z distance could be modified by JavaScript.</Para><Para>Second, you could allow the user to spin the gallery manually by detecting the mouse position inside the figure element and use its horizontal offset from the center to determine the amount of rotation for the gallery (Listing 9-18).</Para><Para><Emphasis Type="BoldItalic">Listing 9-18.&#x2002;</Emphasis><Emphasis Type="Italic">JQuery Code to Rotate a CSS3 Circular Gallery Based on Mouse Position</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;script&#x003E;</Emphasis> &#x2009;</Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">$(&quot;figure&quot;).mousemove(function(e) {</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">var relativeX = e.pageX - (this.offsetLeft + 660);</Emphasis> &#x2009;</Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">$(this).css(&#x0027;transform&#x0027;,&#x0027;rotateY(&#x0027;+ relativeX +&#x0027;deg)&#x0027;);</Emphasis> &#x2009;</Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">});</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;/script&#x003E;</Emphasis></Para><Para>This would mean removing the CSS3 animation and substituting in a transition, as shown in Listing 9-19.</Para><Para><Emphasis Type="BoldItalic">Listing 9-19.</Emphasis>&#x2002;<Emphasis Type="Italic">CSS Code for JQuery Mouse-Position Rotation of a Circular Gallery</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure { transform-style: preserve-3d; transform-origin-x: 660px;</Emphasis> &#x2009;</Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transform-origin-z: -500px; height: 244px; transition: 2s transform linear; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">figure:hover { cursor: ew-resize; }</Emphasis></Para><FormalPara Type="Important" RenderingStyle="Style1"><Heading>Note</Heading><Para>This could also be accomplished to some degree using pure CSS with two elements, each the height of the figure but half the width, placed left and right over the <Emphasis FontCategory="NonProportional">figure</Emphasis>, with a hover pseudo-selector on each driving a clockwise and counterclockwise animation respectively. There are, however, two significant disadvantages: there could be no direct interactivity with the gallery underneath (i.e., no pop-up captions), as the two overlaid elements would capture all mouse events, and 2) using pure CSS would limit the animation to a set speed of rotation in either direction, as opposed to the further away = faster rotation of the JavaScript solution we looked at previously.</Para></FormalPara><Para>More advanced versions of this JavaScript&#x2014;and versions more compatible with mobile UI conventions&#x2014;might include a script to measure a mouse and/or fingertip drag movement on the screen, rotating the circular gallery a commensurate number of degrees. You could also add left-right buttons to rotate the gallery in increments.</Para></Section1><Section1 ID="Sec9"><Heading>Adding a CSS Level-4 Selector</Heading><Para>Once it is supported by browsers, you could make the gallery more explorative by using the parent selector:</Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">$figure img:nth-child(2):hover { transform: rotateY(&#x2212;45deg); }</Emphasis></Para><Para>This would rotate the circular gallery as a whole to bring the current hovered image front and center.</Para></Section1><Section1 ID="Sec10"><Heading>3D CSS Transforms and Transitions for UI Elements<IndexTerm><Primary>CSS3 Animations and Transitions</Primary><Secondary>3D Transforms</Secondary><Tertiary>UI elements </Tertiary></IndexTerm></Heading><Para>As a general rule, the requirement for clear navigation means that UI elements should employ as few visual &#x201C;tricks&#x201D; as possible. The following technique, derived from work pioneered by Hakim El Hattab (<ExternalRef><RefSource>http://hakim.se</RefSource><RefTarget TargetType="URL" Address="http://hakim.se"/></ExternalRef>, used with permission), uses the opposite approach: when the navigation is focused, the rest of the page is transitioned in 3D. A variation of the code is shown in Listing 9-20. You can see the results in Figure <InternalRef RefID="Fig13">9-13</InternalRef>.<Figure ID="Fig13" Float="Yes" Category="Standard"><Caption Language="En"><CaptionNumber>Figure 9-13</CaptionNumber>.&#x2002;<CaptionContent><SimplePara>Body content transformed with CSS3 with side-pull navigation</SimplePara></CaptionContent></Caption><MediaObject ID="MO13"><ImageObject FileRef="9781430247227_Fig09-13.gif" Format="GIF" Color="BlackWhite" Type="Linedraw" Rendition="HTML"/></MediaObject></Figure></Para><Para><Emphasis Type="BoldItalic">Listing 9-20.</Emphasis>&#x2002;<Emphasis Type="Italic">HTML Code for Side-Pull Navigation</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;!doctype html&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;html lang=&quot;en&quot;&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;head&#x003E;</Emphasis></Para><Para Type="Programcode">     <Emphasis FontCategory="NonProportional">&#x003C;meta charset=&quot;utf-8&quot;&#x003E;</Emphasis></Para><Para Type="Programcode">     <Emphasis FontCategory="NonProportional">&#x003C;title&#x003E;3D fold-away menu&#x003C;/title&#x003E;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">&#x003C;link rel=&quot;stylesheet&quot; href=&quot;wedge.css&quot;&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;/head&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;body&#x003E;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">&#x003C;div class=&quot;meny&quot;&#x003E;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">&#x003C;h2&#x003E;Other Demigods&#x003C;/h2&#x003E;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">&#x003C;ul&#x003E;</Emphasis></Para><Para Type="Programcode">        <Emphasis FontCategory="NonProportional">&#x003C;li&#x003E;&#x003C;a href=&quot;#&quot;&#x003E;Aegir&#x003C;/a&#x003E;</Emphasis></Para><Para Type="Programcode">        <Emphasis FontCategory="NonProportional">&#x003C;li&#x003E;&#x003C;a href=&quot;#&quot;&#x003E;Balder&#x003C;/a&#x003E;</Emphasis></Para><Para Type="Programcode">        <Emphasis FontCategory="NonProportional">&#x003C;li&#x003E;&#x003C;a href=&quot;#&quot;&#x003E;Bragi&#x003C;/a&#x003E;</Emphasis></Para><Para Type="Programcode">        <Emphasis FontCategory="NonProportional">&#x003C;li&#x003E;&#x003C;a href=&quot;#&quot;&#x003E;Eostra&#x003C;/a&#x003E;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">&#x003C;/ul&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;/div&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;div class=&quot;meny-arrow&quot;&#x003E;&#x25BA;&#x003C;/div&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;div class=&quot;meny-contents&quot;&#x003E;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">&#x003C;div class=&quot;cover&quot;&#x003E;&#x003C;/div&#x003E;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">&#x003C;article&#x003E;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">&#x003C;h1&#x003E;Deigods of Asgard&#x003C;/h1&#x003E;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">&#x003C;p&#x003E;HW&#x00C6;T, WE GAR-DEna in geardagum, &#x00FE;eodcyninga &#x00FE;rym gefrunon. &#x2009;. &#x2009;. &#x2009;. &#x2009;.</Emphasis> &#x2009;</Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">&#x003C;/article&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;/div&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;/body&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;script src=&quot;meny.js&quot;&#x003E;&#x003C;/script&#x003E;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">&#x003C;/html&#x003E;</Emphasis></Para><Para>The attached stylesheet is shown in Listing 9-21.</Para><Para><Emphasis Type="BoldItalic">Listing 9-21.&#x2002;</Emphasis><Emphasis Type="Italic">CSS Stylesheet for Side-Pull Navigation</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">*{ margin: 0; padding: 0; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">html, body { height: 100%; overflow: hidden; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">body { background-color: #222;  font-family: Lato, Helvetica, sans-serif;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">font-size: 16px; color: #222; }</Emphasis> &#x2009;</Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">.meny-wrapper {perspective: 800; perspective-origin: 0% 50%; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">.meny, .meny-contents { box-sizing: border-box; transition: transform .5s ease;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transform-origin: 0% 50%; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">.meny { display: none; position: fixed; height: 100%; width: 300px;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">z-index: 1; margin: 0px; padding: 20px;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transform: rotateY( &#x2212;30deg ) translateX( &#x2212;97% ); }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">.meny-ready .meny { display: block; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">.meny-active .meny { transform: rotateY( 0deg ); }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">.meny-contents { background: #eee; padding: 20px 40px; width: 100%; height: 100%;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">overflow-y: auto; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">.meny-active .meny-contents { transform: translateX( 300px ) rotateY( 15deg ); }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">.meny-contents .cover { display: none; position: absolute;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">width: 100%; height: 100%; top: 0; left: 0; visibility: hidden; z-index: 1000;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">opacity: 0;     background: linear-gradient(left,  rgba(0,0,0,0.15) 0%,rgba(0,0,0,0.65) 100%);</Emphasis> &#x2009;</Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transition: all .5s ease; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">.meny-ready .meny-contents .cover { display: block; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">.meny-active .meny-contents .cover { visibility: visible; opacity: 1; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">.meny-arrow { position: absolute; top: 45%; left: 12px; z-index: 10;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">font-family: sans-serif; font-size: 20px; color: #333;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transition: left 0.8s cubic-bezier(0.680, -0.550, 0.265, 1.550); }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">.meny-active .meny-arrow { left: -40px; opacity: 0; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">.meny-fold .meny, .meny-fold .meny-contents {transition: transform 0.6s ease; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">.meny-fold .meny-contents { position: fixed; z-index: 3; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">.meny-fold .meny {transform-origin: 50% 50%; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">.meny-fold .meny.right .cover { position: absolute;</Emphasis> &#x2009;</Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">width: 100%; height: 100%; left: 0; top: 0; opacity: 1;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">background: linear-gradient(to right,  rgba(0,0,0,1) 0%,rgba(0,0,0,0) 90%); }</Emphasis> &#x2009;</Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">.meny-ready .meny-fold .meny.right .cover { transition: opacity 0.6s ease; }</Emphasis> &#x2009;</Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">.meny-active .meny-fold .meny.right .cover { opacity: 0; }</Emphasis> &#x2009;</Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">.meny-fold .meny.left { clip: rect( 0px, 150px, 10000px, 0px );</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transform: translate3d( &#x2212;150px, 0, -300px ) rotateY( 90deg ) scale(1.25); }</Emphasis> &#x2009;</Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">.meny-active .meny-fold .meny.left { clip: initial; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">.meny-fold .meny.right { clip: rect( 0px, 300px, 10000px, 150px );</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transform: translate3d( &#x2212;150px, 0, -300px ) rotateY( &#x2212;90deg ) scale(1.25); }</Emphasis> &#x2009;</Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">.meny-active .meny-fold .meny.left, .meny-active .meny-fold .meny.right {</Emphasis> &#x2009;</Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">transform: rotateY( 0deg ); }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">a { color: #c2575b; text-decoration: none; transition: 0.15s color ease; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">a:hover { color: #f76f76; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">h1 { font-size: 24px; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">.meny { background: #333; color: #eee; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">.meny ul { margin-top: 10px; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">.meny ul li { list-style: none; font-size: 20px; padding: 3px 10px; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">.meny ul li:before { content: &#x0027;-&#x0027;; margin-right: 5px;</Emphasis></Para><Para Type="Programcode">   <Emphasis FontCategory="NonProportional">color: rgba( 255, 255, 255, 0.2 ); }</Emphasis> &#x2009;</Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">.meny-contents&#x003E;article { max-width: 400px; }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">.meny-contents p { margin: 10px 0 10px 0; font-size: 16px; line-height: 1.32; }</Emphasis></Para><Para>Finally, the JavaScript,that covers hover, touch, and slide events is shown in Listing 9-22.</Para><Para><Emphasis Type="BoldItalic">Listing 9-22.</Emphasis>&#x2002;<Emphasis Type="Italic">JavaScript for Side-Pull Navigation</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">(function(){</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">var meny = document.querySelector( &#x0027;.meny&#x0027; );</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">if (!meny || !meny.parentNode ) { return; }</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">var menyWrapper = meny.parentNode;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">menyWrapper.className += &#x0027; meny-wrapper&#x0027;;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">var indentX = menyWrapper.offsetLeft,</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">activateX = 40,</Emphasis> &#x2009;</Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">deactivateX = meny.offsetWidth || 300,</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">touchStartX = null,</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">touchMoveX = null,</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">isActive = false,</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">isMouseDown = false;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">document.addEventListener( &#x0027;mousedown&#x0027;, onMouseDown, false );</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">document.addEventListener( &#x0027;mouseup&#x0027;, onMouseUp, false );</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">document.addEventListener( &#x0027;mousemove&#x0027;, onMouseMove, false );</Emphasis> &#x2009;</Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">document.addEventListener( &#x0027;touchstart&#x0027;, onTouchStart, false );</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">document.addEventListener( &#x0027;touchend&#x0027;, onTouchEnd, false );</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">window.addEventListener( &#x0027;hashchange&#x0027;, onHashChange, false );</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">onHashChange();</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">document.documentElement.className += &#x0027; meny-ready&#x0027;;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">function onMouseDown( event ) { isMouseDown = true; }</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">function onMouseMove( event ) {</Emphasis></Para><Para Type="Programcode">        <Emphasis FontCategory="NonProportional">if( !isMouseDown ) { var x = event.clientX - indentX;</Emphasis></Para><Para Type="Programcode">        <Emphasis FontCategory="NonProportional">if (deactivateX ) { deactivate(); }else if( x &#x003C; activateX ) {activate(); } }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">}</Emphasis> &#x2009;</Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">function onMouseUp( event ) { isMouseDown = false; }</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">function onTouchStart( event ) { touchStartX = event.touches[0].clientX - indentX;</Emphasis> &#x2009;</Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">touchMoveX = null;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">if (isActive || touchStartX &#x003C; activateX ) {</Emphasis></Para><Para Type="Programcode">        <Emphasis FontCategory="NonProportional">document.addEventListener( &#x0027;touchmove&#x0027;, onTouchMove, false ); }</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">}</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">function onTouchMove( event ) {</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">touchMoveX = event.touches[0].clientX - indentX;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">if ( isActive &#x0026;&#x0026; touchMoveX &#x003C; touchStartX - activateX ) {</Emphasis> &#x2009;</Para><Para Type="Programcode">        <Emphasis FontCategory="NonProportional">deactivate(); event.preventDefault();</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">}else if ( touchStartX &#x003C; activateX &#x0026;&#x0026; touchMoveX &#x003E; touchStartX + activateX ) {</Emphasis></Para><Para Type="Programcode">         <Emphasis FontCategory="NonProportional">activate();</Emphasis></Para><Para Type="Programcode">        <Emphasis FontCategory="NonProportional">event.preventDefault(); } }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">function onTouchEnd( event ) {</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">document.addEventListener( &#x0027;touchmove&#x0027;, onTouchMove, false );</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">if (touchMoveX === null ) {</Emphasis> &#x2009;</Para><Para Type="Programcode">        <Emphasis FontCategory="NonProportional">if (touchStartX &#x003E; deactivateX ) { deactivate(); }</Emphasis> &#x2009;</Para><Para Type="Programcode">        <Emphasis FontCategory="NonProportional">else if (touchStartX &#x003C; activateX * 2) { activate(); }}}</Emphasis></Para><Para Type="Programcode"> &#x2009;</Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">function onHashChange( event ) {</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">if( window.location.hash.match( &#x0027;fold&#x0027; ) &#x0026;&#x0026; !document.body.className.match( &#x0027;meny-fold&#x0027; ) ) {</Emphasis></Para><Para Type="Programcode">         <Emphasis FontCategory="NonProportional">addClass( document.body, &#x0027;meny-fold&#x0027; );</Emphasis></Para><Para Type="Programcode">        <Emphasis FontCategory="NonProportional">var clone = document.createElement( &#x0027;div&#x0027; );</Emphasis> &#x2009;</Para><Para Type="Programcode">       <Emphasis FontCategory="NonProportional">clone.className = &#x0027;meny right&#x0027;;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">clone.innerHTML = meny.innerHTML + &#x0027;&#x003C;div class=&quot;cover&quot;&#x003E;&#x003C;/div&#x003E;&#x0027;;</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">document.body.appendChild( clone );</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">addClass( meny, &#x0027;left&#x0027; );</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">} else {</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">removeClass( document.body, &#x0027;meny-fold&#x0027; );</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">var clone = document.querySelector( &#x0027;.meny.right&#x0027; );</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">if (clone ) {</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">clone.parentNode.removeChild( clone ); } } }</Emphasis></Para><Para Type="Programcode"> &#x2009;</Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">function activate() { if (isActive === false ) {</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">isActive = true;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">addClass( document.documentElement, &#x0027;meny-active&#x0027; ); }}</Emphasis></Para><Para Type="Programcode"> &#x2009;</Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">function deactivate() {</Emphasis> &#x2009;</Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">if( isActive === true ) {</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">isActive = false;</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">removeClass( document.documentElement, &#x0027;meny-active&#x0027; ); }</Emphasis></Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">}</Emphasis></Para><Para Type="Programcode"> &#x2009;</Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">function addClass( element, name ) {</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">element.className = element.className.replace( /\s+$/gi, &#x0027;&#x0027; ) + &#x0027; &#x0027; + name; 	}</Emphasis></Para><Para Type="Programcode"> &#x2009;</Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">function removeClass( element, name ) {</Emphasis></Para><Para Type="Programcode">    <Emphasis FontCategory="NonProportional">element.className = element.className.replace( name, &#x0027;&#x0027; );</Emphasis> &#x2009;</Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">}</Emphasis> &#x2009;</Para><Para Type="Programcode"><Emphasis FontCategory="NonProportional">})();</Emphasis></Para><Para>Brought together, the HTML, JavaScript, and CSS create the effect you see in Figure <InternalRef RefID="Fig10">9-10</InternalRef> for desktop browsers and mobile devices.</Para></Section1><Section1 ID="Sec11"><Heading>Summary</Heading><Para>3D transforms, transitions, and animations can be used to add depth and perspective to your web content. While it can be difficult to visualize the z axis in the context of a flat 2D screen, use of the principles discussed here and in previous chapters&#x2014;including  manipulation of the origin and transformation around a point, use of forced perspective, backface visibility, and transform style&#x2014;can help a lot.</Para><Para>So far, you&#x2019;ve been producing all your code by hand. While that&#x2019;s the best way to learn, CSS code generation can be made much quicker and more efficient with well-configured tools, for which you will find recommendations in the next chapter. You&#x2019;ll also take a look at where the next innovations in CSS, together with related technologies, are likely to come from.</Para></Section1></Body><BodyRef FileRef="9781430247227_09_OnlinePDF.pdf" TargetType="OnlinePDF"/></Chapter>